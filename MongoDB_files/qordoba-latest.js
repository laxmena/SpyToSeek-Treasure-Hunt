/* qordoba-0.15.13 */
var Qordoba={};("undefined"==typeof console||"undefined"==typeof console.log)&&(console={log:function(){},error:function(){}});var DOMReadyService={ready:!1,queue:[],queueReady:function(a){this.ready?a():this.queue.push(a)},triggerReady:function(){this.ready=!0;for(var a=0;a<this.queue.length;a++)this.queue[a]();this.queue=[]},checkReady:function(){return"interactive"===document.readyState||"complete"===document.readyState}};if(DOMReadyService.checkReady())DOMReadyService.triggerReady();else var readyCheck=setInterval(function(){DOMReadyService.checkReady()&&(DOMReadyService.triggerReady(),clearInterval(readyCheck))},10);Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;if(null==this)throw new TypeError('"this" is null or not defined');var d=Object(this),e=d.length>>>0;if(0===e)return-1;var f=+b||0;if(Math.abs(f)===1/0&&(f=0),f>=e)return-1;for(c=Math.max(f>=0?f:e-Math.abs(f),0);e>c;){if(c in d&&d[c]===a)return c;c++}return-1});var localStorageWrapper={lsSupported:function(){var a="test";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(b){return!1}},getItem:function(a){return localStorageWrapper.lsSupported()?localStorage.getItem(a):null},setItem:function(a,b){localStorageWrapper.lsSupported()&&localStorage.setItem(a,b)},removeItem:function(a){localStorageWrapper.lsSupported()&&localStorage.removeItem(a)}};window.MutationObserver=window.MutationObserver||function(a){"use strict";function b(a){this._watched=[],this._listener=a}function c(a){!function c(){var d=a.takeRecords();d.length&&a._listener(d,a),a._timeout=setTimeout(c,b._period)}()}function d(b){var c={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(var d in b)n(c,d)&&b[d]!==a&&(c[d]=b[d]);return c}function e(a,b){var c=h(a,b);return function(d){var e,i=d.length;b.attr&&c.attr&&f(d,a,c.attr,b.afilter),(b.kids||b.descendents)&&(e=g(d,a,c,b)),(e||d.length!==i)&&(c=h(a,b))}}function f(a,b,c,e){for(var f,g,h={},i=b.attributes,j=i.length;j--;)f=i[j],g=f.name,(!e||n(e,g))&&(f.value!==c[g]&&a.push(d({type:"attributes",target:b,attributeName:g,oldValue:c[g],attributeNamespace:f.namespaceURI})),h[g]=!0);for(g in c)h[g]||a.push(d({target:b,type:"attributes",attributeName:g,oldValue:c[g]}))}function g(b,c,e,g){function h(a,c,e,h,i){for(var j,l,m,n=a.length-1,o=-~((n-i)/2);m=a.pop();)j=e[m.i],l=h[m.j],g.kids&&o&&Math.abs(m.i-m.j)>=n&&(b.push(d({type:"childList",target:c,addedNodes:[j],removedNodes:[j],nextSibling:j.nextSibling,previousSibling:j.previousSibling})),o--),g.attr&&l.attr&&f(b,j,l.attr,g.afilter),g.charData&&3===j.nodeType&&j.nodeValue!==l.charData&&b.push(d({type:"characterData",target:j})),g.descendents&&k(j,l)}function k(c,e){for(var n,o,p,q,r,s,t,u=c.childNodes,v=e.kids,w=u.length,x=v?v.length:0,y=0,z=0,A=0;w>z||x>A;)s=u[z],r=v[A],t=r&&r.node,s===t?(g.attr&&r.attr&&f(b,s,r.attr,g.afilter),g.charData&&r.charData!==a&&s.nodeValue!==r.charData&&b.push(d({type:"characterData",target:s})),o&&h(o,c,u,v,y),g.descendents&&(s.childNodes.length||r.kids&&r.kids.length)&&k(s,r),z++,A++):(l=!0,n||(n={},o=[]),s&&(n[p=j(s)]||(n[p]=!0,-1===(q=i(v,s,A))?g.kids&&(b.push(d({type:"childList",target:c,addedNodes:[s],nextSibling:s.nextSibling,previousSibling:s.previousSibling})),y++):o.push({i:z,j:q})),z++),t&&t!==u[z]&&(n[p=j(t)]||(n[p]=!0,-1===(q=m(u,t,z))?g.kids&&(b.push(d({type:"childList",target:e.node,removedNodes:[t],nextSibling:v[A+1],previousSibling:v[A-1]})),y--):o.push({i:q,j:A})),A++));o&&h(o,c,u,v,y)}var l;return k(c,e),l}function h(a,b){var c=!0;return function d(a){var e={node:a};return!b.charData||3!==a.nodeType&&8!==a.nodeType?(b.attr&&c&&1===a.nodeType&&(e.attr=l(a.attributes,function(a,c){return(!b.afilter||b.afilter[c.name])&&(a[c.name]=c.value),a},{})),c&&(b.kids||b.charData||b.attr&&b.descendents)&&(e.kids=k(a.childNodes,d)),c=b.descendents):e.charData=a.nodeValue,e}(a)}function i(a,b,c){return m(a,b,c,o("node"))}function j(a){try{return a.id||(a[q]=a[q]||p++)}catch(b){try{return a.nodeValue}catch(c){return p++}}}function k(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d],d,a);return c}function l(a,b,c){for(var d=0;d<a.length;d++)c=b(c,a[d],d,a);return c}function m(a,b,c,d){for(;c<a.length;c++)if((d?a[c][d]:a[c])===b)return c;return-1}function n(b,c){return b[c]!==a}function o(a){return a}b._period=30,b.prototype={observe:function(a,b){for(var d={attr:!!(b.attributes||b.attributeFilter||b.attributeOldValue),kids:!!b.childList,descendents:!!b.subtree,charData:!(!b.characterData&&!b.characterDataOldValue)},f=this._watched,g=0;g<f.length;g++)f[g].tar===a&&f.splice(g,1);b.attributeFilter&&(d.afilter=l(b.attributeFilter,function(a,b){return a[b]=!0,a},{})),f.push({tar:a,fn:e(a,d)}),this._timeout||c(this)},takeRecords:function(){for(var a=[],b=this._watched,c=0;c<b.length;c++)b[c].fn(a);return a},disconnect:function(){this._watched=[],clearTimeout(this._timeout),this._timeout=null}};var p=1,q="mo_id";return b}(void 0),document.querySelectorAll||(document.querySelectorAll=function(a){var b,c=document.createElement("style"),d=[];for(document.documentElement.firstChild.appendChild(c),document._qsa=[],c.styleSheet.cssText=a+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),c.parentNode.removeChild(c);document._qsa.length;)b=document._qsa.shift(),b.style.removeAttribute("x-qsa"),d.push(b);return document._qsa=null,d}),document.querySelector||(document.querySelector=function(a){var b=document.querySelectorAll(a);return b.length?b[0]:null}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),function(a){"use strict";var b=[],c=function(a){var c=this;this.observerName=a,this.observers=[],this.addObserver=function(a){this.observers.push(a)},this.removeObserver=function(a){for(var b=0;b<this.observers.length;b++)if(this.observers.indexOf(a)>-1){this.observers.splice(this.observers.indexOf(a),1);break}},this.publish=function(){for(var a=c.observers.slice(),b=0;b<a.length;b++)a[b].apply(this,arguments)},b.push(this)},d=function(a){for(var c=0;c<b.length;c++)b[c].observerName===a&&b[c].publish.apply(b[c],Array.prototype.slice.call(arguments,1))},e=function(a,c){for(var d=0;d<b.length;d++)b[d].observerName===a&&b[d].addObserver(c)},f=function(a,c){for(var d=0;d<b.length;d++)b[d].observerName===a&&b[d].removeObserver(c)},g=function(a){for(var c=0;c<b.length;c++)b[c].observerName===a&&b.slice(c,1)};a.observerService={create:function(a){return new c(a)},publish:d,observe:e,unobserve:f,destroy:g}}(Qordoba),function(a){"use strict";function b(a){var c;if(null===a||"object"!=typeof a)return a;if(a instanceof Array){c=[];for(var d=0,e=a.length;e>d;d++)c[d]=b(a[d]);return c}if(a instanceof Object){c={};for(var f in a)a.hasOwnProperty(f)&&(c[f]=b(a[f]));return c}}function c(b,c){if(void 0===typeof b||!d.hasOwnProperty(b))throw new Error("Cannot set property. "+b+" is not a valid config option!");if("blackList"===b&&c instanceof Array&&c.length)for(var e=0;e<c.length;e++)a.config.registerBlackListItem(c[e]);else d[b]=c}var d={bestMatchThreshold:.8,blackList:[],noTranslateAttr:"notranslate",xhrRequestTimeout:1e5,noMediaQueryWidth:1500,attributeMap:{a:"title",input:["value","placeholder"]},apiBaseUrl:"https://app.qordoba.com/api/",publisherBaseUrl:"https://publisher.qordoba.com/",verificationToken:null,projectId:null,siteKey:null,completedMSOnly:!1,selectLastLanguage:!0,lsKey:"qjsLang",pathMap:[],customDomain:null,projectDomain:null,translateOverride:!1,rewriteAbsoluteLinks:!0,translateSegments:!0,translateAttributes:!0,translateImages:!0,translateSeo:!0,liveEditor:!0,overrideCss:!0,saveNewAttributes:!0,saveNewSegments:!0,saveNewImages:!0,saveSeo:!0,showLoaderWhenSwitchingLanguage:!1,showLoaderDelay:500,loaderCustomHTML:""},e=b(d);a.configuration=function(){if(1===arguments.length&&"string"==typeof arguments[0]){if(d.hasOwnProperty(arguments[0]))return d[arguments[0]];throw new Error("Cannot get property. "+a+" is not a valid config option!")}if(2===arguments.length&&"string"==typeof arguments[0])return void c(arguments[0],arguments[1]);if(arguments[0]instanceof Object)for(var a in arguments[0])c(a,arguments[0][a]);else;},a.config={},a.config.restoreDefault=function(){a.configuration(b(e))},a.config.registerBlackListItem=function(){for(var a=0;a<arguments.length;a++)try{var b=new RegExp(arguments[a].replace(/[[\]]/g,"\\$&"));d.blackList.push(b)}catch(c){throw new Error("Cannot add "+arguments[a]+" to black list: invalid regular expression")}},a.config.supportsResponsive=function(a){for(var b=a.getElementsByTagName("meta"),c=0;c<b.length;c++){var d=b[c].getAttribute("name"),e=b[c].getAttribute("content");if("viewport"===d&&e&&e.toLowerCase().indexOf("width=device-width")>-1)return!0}return!1}}(Qordoba),function(a){"use strict";function b(a){var b=document.createElement("style"),e="sheet"in b?"sheet":"styleSheet";if(b.id="QordobaStylesheet"+(d.length+1),b.type="text/css",a&&(a.minWidth||a.maxWidth)){var f="only screen";a.minWidth&&(f+=" and (min-width:"+a.minWidth+"px)"),a.maxWidth&&(f+=" and (max-width:"+a.maxWidth+"px)"),b.setAttribute("media",f)}b.styleSheet?b.styleSheet.cssText="":b.appendChild(document.createTextNode("")),c.appendChild(b),d.push({mediaQuery:a,sheet:b[e],rules:[]})}var c=document.head||document.getElementsByTagName("head")[0],d=[],e=function(a){var b=document.createElement("style");return b.id="QordobaCustomStylesheet-"+Math.floor(1e8*Math.random()),b.type="text/css",b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a)),c.appendChild(b),b},f=function(a,b){for(var c=("cssRules"in a?"cssRules":"rules"),d=a[c].length-1;d>=0;)"deleteRule"in a?a.deleteRule(d):"removeRule"in a&&a.removeRule(d),d--;for(var e=0;e<b.length;e++)"insertRule"in a?a.insertRule(b[e].selector+"{"+b[e].ruleString+"}",a[c].length):"addRule"in a&&a.addRule(b[e].selector,b[e].ruleString,0)},g=function(a){c.removeChild(a)},h=function(a,c,e){var g;e=e||{};for(var h=0;h<d.length;h++)if(d[h].mediaQuery.minWidth===e.minWidth&&d[h].mediaQuery.maxWidth===e.maxWidth){g=d[h];break}g||(b(e),g=d[d.length-1]),this.id=Math.floor(1e6*Math.random()),this.ruleString=c,this.selector=a,this.activateRules=function(){for(var a=0;a<g.rules.length;a++)if(g.rules[a].id===this.id)return!1;g.rules.push(this),f(g.sheet,g.rules)},this.deactivateRules=function(){for(var a=0;a<g.rules.length;a++)if(g.rules[a].id===this.id){g.rules.splice(a,1);break}f(g.sheet,g.rules)}};a.cssService={createCustomStaticStyleSheet:e,removeCustomStaticStyleSheet:g,StyleSheetRuleSet:h}}(Qordoba),function(a){"use strict";var b,c,d=function(a){return document.documentElement.getAttribute("lang")},e=function(a){if("string"!=typeof a)return!1;var b=a.slice(0,2),c=!1;navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(c=!0),"th"===b&&c||(document.documentElement.lang=a.slice(0,2))},f=function(){return b},g=function(a){b=a},h=function(){return document.documentElement.getAttribute("dir")},i=function(a){document.documentElement.dir=a||"ltr"},j=function(a){c=a},k=function(){return c};a.documentLangService={getLangCode:f,storeLangCode:g,getHtmlLangAttribute:d,setHtmlLangAttribute:e,getTextDir:k,storeTextDir:j,getHtmlTextDirection:h,setHtmlTextDirection:i}}(Qordoba),function(a){"use strict";function b(a){for(var b=[];null!==a.parentNode;){for(var c=0,d=0,e=0;e<a.parentNode.childNodes.length;e++){var f=a.parentNode.childNodes[e];f.nodeName===a.nodeName&&(f===a&&(d=c),c++)}b.unshift(a),a=a.parentNode}return b.slice(1)}function c(a){function b(a){if(a.hasChildNodes())for(var d=a.firstChild;d;d=d.nextSibling)b(d);c.push(a)}var c=[];return b(a),c}function d(){DOMReadyService.queueReady(function(){h.observe(document.body,{subtree:!0,childList:!0}),h.observe(document.head,{subtree:!0,childList:!0})})}var e=a.observerService.create("domChange"),f=function(a){var b=[a.nodeName.toLowerCase()],c=a.attributes;if(c)for(var d=0;d<c.length;d++){var e=c[d];if(e.specified&&"id"===e.name.toLowerCase()&&e.value.length)b.push("#"+e.value);else if(e.specified&&"class"===e.name.toLowerCase()&&e.value.length)for(var f=e.value.split(" "),g=0;g<f.length;g++)b.push("."+f[g]);else e.specified&&b.push("["+e.name.toLowerCase()+"="+e.value+"]")}var h="abcdefghijklmnopqrstuvwxyz1234567890#.[";return b.sort(function(a,b){var c=h.indexOf(a[0]),d=h.indexOf(b[0]);return c===d?b>a?-1:a>b?1:0:c-d}).join("")},g=function(a){return{node:a,path:b(a).map(f)}},h=new MutationObserver(function(a){for(var b=[],d=[],f=[],h=0;h<a.length;h++)for(var i=0;i<a[h].addedNodes.length;i++)b=b.concat(c(a[h].addedNodes[i]));for(var j=0;j<b.length;j++)d.indexOf(b[j])<0&&(d.push(b[j]),f.push(g(b[j])));e.publish.call(a,f)}),i=function(a){for(var b=c(a),d=[],e=0;e<b.length;e++)d.push(g(b[e]));return d},j=function(b){var c=a.configuration("blackList");return b.filter(function(a){for(var b=!0,d=0;d<a.path.length;d++){for(var e=0;e<c.length;e++)if(c[e].test(a.path[d])){b=!1;break}if(!b)break}return b})},k=!1,l=function(a){if(k)return!0;for(var b=0;b<a.length;b++)if("link"===a[b].node.nodeName.toLowerCase()&&a[b].node.getAttribute("href").indexOf("translate.googleapis")>-1){console.info("Disabling qordoba js"),k=!0;break}return k};a.domChangeService={extractDOMNodes:i,filterBlackListItems:j,shouldIgnoreDOMChanges:l},d()}(Qordoba),function(a){"use strict";var b=function(a,b,c){return b&&c?a.replace(b,c):a},c=function(c){var d=a.configuration("pathMap");c=b(c,a.configuration("customDomain"),a.configuration("projectDomain"));var e,f=a.pageLocationService.parseUrlStr(c);if(f.queryParams&&f.queryParams.lang)return delete f.queryParams.lang,a.pageLocationService.urlObjToStr(f);for(var g=0;g<d.length;g++)for(var h=a.pageLocationService.stripWwws(d[g].path),i=d[g].source,j=d[g].targets,k=0;k<j.length;k++){var l=j[k],m=h.replace("<lang>",l.val),n=new RegExp(m);if(n.test(f.raw)){var o="("+h.substring(0,h.indexOf("<lang>"))+")",p=l.val.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),q="("+h.substring(h.indexOf("<lang>")+6)+")",r=new RegExp(o+p+q);e=f.raw.replace(r,"$1-qordoba-token-"+i+"-qordoba-token-$2"),e=e.replace(/-qordoba-token-/g,"");break}}return e?a.pageLocationService.urlObjToStr(a.pageLocationService.parseUrlStr(e)):f.raw},d=function(c,d){var e=a.configuration("pathMap");c=b(c,a.configuration("customDomain"),a.configuration("projectDomain"));for(var f=a.pageLocationService.parseUrlStr(c),g=b(c,a.configuration("customDomain"),a.configuration("projectDomain")),h=0;h<e.length;h++){var i,j=a.pageLocationService.stripWwws(e[h].path),k=e[h].source,l=e[h].targets,m=new RegExp(j.replace("<lang>",k)),n=j.substr(0,j.indexOf("<lang>")),o=j.substr(j.indexOf("<lang>")+"<lang>".length,j.length),p=new RegExp("("+n+")("+k+")("+o+")");if(m.test(g)){for(var q=0;q<l.length;q++)if(l[q].code===d){i=l[q].val;break}c=g.replace(p,function(a,b,c,d){return b+i+d}),c=b(c,a.configuration("projectDomain"),a.configuration("customDomain"));break}}return e.length||(f.queryParams||(f.queryParams={}),f.queryParams.lang=d,c=a.pageLocationService.urlObjToStr(f)),c},e=function(c){var d=a.configuration("pathMap");c=b(c,a.configuration("customDomain"),a.configuration("projectDomain"));var e,f=a.pageLocationService.parseUrlStr(c);if(f.queryParams&&f.queryParams.lang)return f.queryParams.lang;for(var g=0;g<d.length;g++)for(var h=a.pageLocationService.stripWwws(d[g].path),i=(d[g].source,d[g].targets),j=h.substr(0,h.indexOf("<lang>")),k=h.substr(h.indexOf("<lang>")+"<lang>".length,h.length),l=0;l<i.length;l++){var m="("+j+")("+i[l].val+")("+k+")",n=new RegExp(m),o=n.exec(c);if(o){e=i[l].code;break}}return e},f=function(c){for(var d=a.configuration("pathMap"),f=b(c,a.configuration("customDomain"),a.configuration("projectDomain")),g=0;g<d.length;g++){var h=a.pageLocationService.stripWwws(d[g].path),i=d[g].source,j=new RegExp(h.replace("<lang>",i));if(j.test(f))return!0}return d.length?!1:!e(f)},g=function(a){return!!e(a)};a.domainMappingService={substituteDomain:b,getLangCodeFromPath:e,convertToSourcePagePath:c,getPathAsTarget:d,isTargetLangPath:g,isSourcePath:f}}(Qordoba),function(a){"use strict";function b(a,b){var c={};for(var d in a)c[d]=a[d];for(var e in b)c[e]=b[e];return c}function c(c,d,e){var j=f,k=null,l=0;"segments"===e&&(j=b(f,h)),"images"===e&&(j=b(f,g)),"attributes"===e&&(j=b(f,i));for(var m in j)l+=j[m].weight;if(!(d instanceof Array)&&d.length)return null;for(var n=0,o=d.length;o>n;n++){var p=0;for(var q in j)j[q].matchFn(c.factors[q],d[n].factors[q])&&(p+=j[q].weight);if((p/l>=a.configuration("bestMatchThreshold")||k&&p/l>k.probability)&&(k={index:n,match:d[n],probability:p/l},1===k.probability))break}return k}function d(b,c){for(var d=[],e=0;e<b.length;e++){var f={node:b[e].node,factors:{dom_path:b[e].path.map(function(a){return a.split("[")[0].split(".")[0]}).join(">"),freq_order:1}};"segments"===c&&(f.factors.original_plain=b[e].node.nodeValue),"attributes"===c&&(f.factors.original_plain=b[e].node.getAttribute(b[e].attrName),f.factors.isAttr=!0,f.factors.attrName=b[e].attrName),"images"===c&&(f.factors.original_source=b[e].node.src,f.factors.original_height=b[e].node.getAttribute("height"),f.factors.original_width=b[e].node.getAttribute("width")),d.push(f)}if("segments"===c)for(var g=0;g<d.length;g++)for(var h=0;h<d.length;h++)h>g&&d[g].factors.original_plain===d[h].factors.original_plain&&d[h].factors.freq_order++;if("attributes"===c)for(var g=0;g<d.length;g++)for(var h=0;h<d.length;h++)h>g&&d[g].factors.original_plain===d[h].factors.original_plain&&d[g].factors.attrName===d[h].factors.attrName&&d[h].factors.freq_order++;if("images"===c)for(var g=0;g<d.length;g++)for(var h=0;h<d.length;h++)if(h>g)if(a.liveEditorService.isLiveEditorMode()){var i=d[g].factors.original_source,j=d[h].factors.original_source,i=i.substring(i.indexOf("/",8)),j=j.substring(j.indexOf("/",8));i===j&&d[h].factors.freq_order++}else d[g].factors.original_source===d[h].factors.original_source&&d[h].factors.freq_order++;return d}var e=function(a,b){var c=function(a,b){return a===b};this.weight=a||0,this.matchFn=b||c},f={dom_path:new e(50)},g={original_source:new e(50,function(b,c){if(a.liveEditorService.isLiveEditorMode()){var d=b.substring(b.indexOf("/",8)),e=c.substring(c.indexOf("/",8));return d===e}return b===c}),freq_order:new e(25)},h={original_plain:new e(300),freq_order:new e(25)},i={isAttr:new e(100),attrName:new e(75),original_plain:new e(65),freq_order:new e(25)};a.fuzzyMatchService={match:c,mapMatchFactors:d}}(Qordoba),function(a){"use strict";function b(b,c){var d=a.domainMappingService.getPathAsTarget(b.href,c);d&&b.setAttribute("href",d)}function c(a,b){var c=a.href;c=c.indexOf("?")>=0?c+"&"+b:c+"?"+b,a.setAttribute("href",c)}function d(a,b){if(b.path.indexOf("[?&]/?<lang>")>=0)for(var d=0;d<b.targets.length;d++){var e=b.targets[d];if(window.location.search.indexOf("?"+e.val)>=0||window.location.search.indexOf("&"+e.val)>=0)return c(a,e.val),!0}return!1}function e(b){var c=a.configuration("pathMap");if(!c||!c.length)return!1;for(var e=0;e<c.length;e++){var f=d(b,c[e]);if(f)return!0}return!1}function f(c,d){for(var f=a.pageLocationService.parseUrlStr(a.pageLocationService.getCurrentPage()),g=0,h=c.length;h>g;g++)if(1===c[g].node.nodeType&&"a"===c[g].node.nodeName.toLowerCase()){var i=e(c[g].node);!i&&a.domainMappingService.isSourcePath(c[g].node.href)&&c[g].node.href.indexOf(f.protocol+"//"+f.host)>-1&&b(c[g].node,d)}}a.linkRewriteService={rewriteLink:b,rewriteLinks:f}}(Qordoba),function(a){"use strict";function b(){if(d.liveEditorMode)return!!d.liveEditorMode;if(window.parent!==window){try{d=JSON.parse(window.name)}catch(a){return!1}return!!d.liveEditorMode}return!1}function c(b){if(a.configuration("customDomain")||a.configuration("projectDomain"))return b;var c=a.pageLocationService.parseUrlStr(b);return c.host=c.host.split(".")[0].replace(/\_/g,"."),c.protocol+"//"+c.host+c.pathname}var d={};a.liveEditorService={isLiveEditorMode:b,proxyReplace:c}}(Qordoba),function(a){function b(a,b){var c={id:a,cbs:[]};return b&&"function"==typeof b&&c.cbs.push(b),c}function c(a,c){function d(b){for(var c=0;c<f.length;c++)f[c].id===a&&f[c].cbs.push(b)}return f.push(b(a,c)),{then:d}}function d(a){for(var b=0;b<f.length;b++)f[b].id===a&&f.splice(b,1)}function e(a,b,c){var d=function(b){b.data.identifier===a&&(c&&"function"==typeof c&&c.apply(this,arguments),window.removeEventListener("message",d))};window.parent.postMessage({identifier:a,content:b},"*"),window.addEventListener("message",d)}var f=[];a.liveEditorService.isLiveEditorMode()&&window.addEventListener("message",function(a){for(var b=0;b<f.length;b++)if(f[b].id===a.data.identifier)for(var c=0;c<f[b].cbs.length;c++)f[b].cbs[c](a)}),a.liveEditorMessagesService={subscribe:c,unsubscribe:d,sendMessage:e}}(Qordoba),function(a){"use strict";function b(){var b="";a.configuration("loaderCustomHTML")?b="<div>"+a.configuration("loaderCustomHTML")+"</div>":(b='<div style="z-index: 2147483647;position: absolute;top: 0;left: 0;right: 0;bottom: 0;background-color: rgba(255,255,255,.4);">',b+='<div style="position: absolute; box-sizing: content-box; padding: 25px; top: 50%; left: 50%; width: 50px; margin-left: -50px; margin-top: -61px; background-color: #fff; -webkit-box-shadow: 0 2px 4px 0 rgba(0,0,0,.5); -moz-box-shadow: 0 2px 4px 0 rgba(0,0,0,.5); box-shadow: 0 2px 4px 0 rgba(0,0,0,.5); border-radius: 4px;">',b+='<img src="https://app.qordoba.com/app/shared/qordoba-fw/assets/img/loader.gif" />',b+="</div>",b+="</div>");var c=document.createElement("div");c.innerHTML=b,e=c.firstChild}function c(){f||(f=!0,e||b(),document.body.appendChild(e))}function d(){f&&document.body.contains(e)&&document.body.removeChild(e),f=!1}var e,f=!1;a.loadingService={show:c,hide:d}}(Qordoba),function(a){"use strict";var b=a.observerService.create("modeChange"),c=function(b){if(!b)return void 0;var c=a.domainMappingService.getLangCodeFromPath(b),d=a.domainMappingService.isSourcePath(b),e=a.pageLocationService.parseUrlStr(b),f=a.configuration("translateOverride"),g=!(!f||!e.queryParams||"true"!=e.queryParams["force-collect"]);if(a.liveEditorService.isLiveEditorMode())return"liveEditor";if("undefined"!=typeof c)return g?"collect":"replace";if(d){if(!f)return"collect";if(g)return"collect"}return void 0},d=function(a){b.publish.apply(null,Array.prototype.slice.call(arguments))};a.modeService={get:c,publishMode:d}}(Qordoba),function(a){"use strict";function b(a){return"string"==typeof a&&a.length?(a=decodeURIComponent(a),a=d(a.split("?")[0]),a=a.split("#")[0]):null}var c=null,d=function(a){return a.replace("www.","")},e=function(a){var b=a.protocol+"//"+a.hostname;if(a.port&&(443===parseInt(a.port)&&"https:"===a.protocol||80===parseInt(a.port)&&"http:"===a.protocol||(b+=":"+a.port)),b+=a.pathname,a.hash&&(b+="#"+a.hash),a.queryParams){var c=0;for(var d in a.queryParams)b+=0===c?"?":"&",b+=d+"="+a.queryParams[d],c++}return b},f=function(a){var c,d=document.createElement("a"),e=null,f="";if(d.href=a,f=d.search,f.length){e={},f=f.substr(1).split("&");for(var g=0;g<f.length;g++){var h=f[g].split("=");h[0].length&&(e[h[0]]=h[1])}}return c={cleaned:b(a),raw:a,protocol:d.protocol,host:d.host,hostname:d.hostname,port:d.port,pathname:d.pathname,hash:d.hash,queryParams:e},"/"!==c.pathname[0]&&(d.pathname||"/"===a[a.length-1])&&(c.pathname="/"+c.pathname),c},g=function(){var a=window.location.hostname.split(".").slice(-2).join(".");document.domain=a},h=function(a){c=f(a)},i=function(){var a={};try{a=JSON.parse(JSON.stringify(c))}catch(b){}return a},j=function(a,b){return a&&b&&a===b},k=function(a){var c,d;window.setInterval(function(){c=i(),d=b(window.location.href),j(c.cleaned,d)||(h(window.location.href),a())},50)};a.pageLocationService={getCurrentPage:i,setCurrentPage:h,getPagePath:b,stripWwws:d,onPageChange:k,pageIsSimilar:j,setTopLevelDomain:g,parseUrlStr:f,urlObjToStr:e}}(Qordoba),function(a){"use strict";var b=null,c=[],d=null,e=.5,f=function(f,g,h,i){var j=a.configuration("apiBaseUrl");j+="projects/"+f,j+="/segments",j+="?pageUrl="+encodeURIComponent(g),j+="&completedMSOnly="+(a.liveEditorService.isLiveEditorMode()?!1:a.configuration("completedMSOnly")),c.push({successCb:h,failCb:i}),clearTimeout(d),d=setTimeout(function(){a.xhrService.get(j,function(a){b=a.version;for(var d=0;d<c.length;d++)"function"==typeof c[d].successCb&&c[d].successCb(a)},function(a){for(var b=0;b<c.length;b++)"function"==typeof c[b].failCb&&c[b].failCb(a)},function(){c=[]})},1e3*e)},g=function(c){if(i=!0,c<h.length){var d={version:b,data:h[c].segments};a.xhrService.save(h[c].endpoint,d,function(a){b=a.version,"undefined"!=typeof h[c].successCb&&h[c].successCb(a)},function(a){"undefined"!=typeof h[c].failCb&&h[c].failCb(a)},function(){g(++c)})}else i=!1,h=[]},h=[],i=!1,j=function(b,c,d,e,f){var j=a.configuration("apiBaseUrl");j+="projects/"+a.configuration("projectId"),j+="/segments",j+="?pageUrl="+encodeURIComponent(c),h.push({endpoint:j,segments:d,successCb:e,failCb:f}),i||g(0)};a.segmentsService={get:f,save:j}}(Qordoba),function(a){"use strict";function b(){var a=!1,b=!1;if(window.XDomainRequest)b=!0,a=new window.XDomainRequest;else for(var c=0;c<f.length;c++){try{a=f[c]()}catch(d){continue}break}return{onResponse:function(c){b&&(a.onload=function(){this.success=!0,c.call(this)},a.onerror=function(){this.success=!1,c.call(this)}),a.onreadystatechange=function(){4===this.readyState&&(this.success=200===this.status,c.call(this))}},onTimeout:function(b,c){a.timeout=b||Number.MAX_VALUE,a.ontimeout=function(){c.call(this)}},open:function(c,d,e){b&&(a.onprogress=function(){}),a.open(c,d,e)},send:function(b){a.send(b)},setRequestHeader:function(c,d){b?console.warn("could not set request header"):a.setRequestHeader(c,d)}}}function c(a,b,c,d){var e;try{e=JSON.parse(a.responseText)}catch(f){return"function"==typeof c&&c.call(a,a.responseText),"function"==typeof d&&d.call(a,a.responseText),!1}a.success&&"function"==typeof b?b.call(a,e):"function"==typeof c&&c.call(a,e),"function"==typeof d&&d.call(a,e)}function d(d,e,f,g){var h=b();return h?(h.onResponse(function(){c(this,e,f,g)}),h.open("GET",d,!0),h.onTimeout(a.configuration("xhrRequestTimeout"),function(){console.error(d,"took too long to respond so was aborted.")}),h.setRequestHeader("Content-type","application/json"),h.setRequestHeader("X-AUTH-TOKEN",a.configuration("verificationToken")),void h.send()):!1}function e(d,e,f,g,h){var i=b();return i?(i.onResponse(function(){c(this,f,g,h)}),i.open("POST",d,!0),i.setRequestHeader("Content-type","application/json"),i.setRequestHeader("X-AUTH-TOKEN",a.configuration("verificationToken")),void i.send(JSON.stringify(e))):!1}var f=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];a.xhrService={get:d,save:e}}(Qordoba),function(a){"use strict";a.Attributes=function(b){function c(b,e){switch(b){case"replace":try{d.setReplaceMode(e.segment.segments,e.segment.direction,e.segment.swap_dir)}catch(f){console.error(f),d.off()}break;case"collect":d.location=a.domainMappingService.convertToSourcePagePath(d.location),d.setCollectMode()}a.observerService.unobserve("modeChange",c)}var d=this;this.parentPage=b,this.location=this.parentPage.location,this.scrapedAttributes=[],this.filterAndMapNewAttributes=function(b,c){for(var d=[],e=0;e<b.length;e++){var f=b[e].node,g=a.configuration("attributeMap");if(1===f.nodeType&&"undefined"!=typeof g[f.nodeName.toLowerCase()]){var h=g[f.nodeName.toLowerCase()];if("string"==typeof h)null!==f.getAttribute(h)&&f.getAttribute(h).length&&(b[e].attrName=h,d.push(b[e]));else if(h instanceof Array)for(var i=0;i<h.length;i++)null!==f.getAttribute(h[i])&&f.getAttribute(h[i]).length&&(b[e].attrName=h[i],d.push(b[e]))}}return d.length?a.fuzzyMatchService.mapMatchFactors(d,"attributes"):d},this.filterUniqueAttributes=function(a,b){for(var c=[],d=0;d<a.length;d++){for(var e=!0,f=0;f<b.length;f++){var g=!0;for(var h in a[d].factors)if(a[d].factors[h]!==b[f].factors[h]){g=!1;break}if(g){e=!1;break}}e&&c.push(a[d])}return c},this.setElAttrTranslation=function(a,b,c){a.translated=!0;var d=a.node,e=a.factors.attrName,f=d.getAttribute("data-qwts-ids")?d.getAttribute("data-qwts-ids").split(","):[];f.push(b),d.setAttribute(e,c),d.setAttribute("data-qwts-ids",f.join(","))},this.unsetElAttrTranslations=function(){for(var a=0;a<d.scrapedAttributes.length;a++)d.scrapedAttributes[a].translated&&(d.scrapedAttributes[a].translated=!1,d.scrapedAttributes[a].node[d.scrapedAttributes[a].factors.attrName]=d.scrapedAttributes[a].factors.original_plain,d.scrapedAttributes[a].node.removeAttribute("data-qwts-ids"))},this.handleAttributeTranslations=function(b,c){for(var e=0;e<b.length;e++)if(!b[e].translated){var f=a.fuzzyMatchService.match(b[e],c,"attributes");f&&d.setElAttrTranslation(b[e],f.match.segment_id,f.match.translation)}};var e,f=.5,g=[],h=0;this.save=function(b,c){a.configuration("apiBaseUrl")+"projects/"+a.configuration("projectId")+"/segments?pageUrl="+encodeURIComponent(d.location);g=g.concat(b),clearTimeout(e),e=setTimeout(function(){for(var b={},e=0;e<c.length;e++)for(var f=0;f<g.length;f++){var i=!0;for(var j in c[e].factors)if(c[e].factors[j]!==g[f].factors[j]){i=!1;break}if(i){g.splice(f,1);break}}b.data=g.splice(0,g.length);for(var k=0;k<b.data.length;k++)b.data[k]={original_plain:b.data[k].factors.original_plain,factors:b.data[k].factors};b.data.length&&a.segmentsService.save(a.configuration("projectId"),d.location,b.data,function(a){h=0},function(a){h++,1>h&&d.save(b.data,c)})},1e3*f)},this.setReplaceMode=function(b,c,e){a.configuration("rewriteAbsoluteLinks")&&this.parentPage.onPageNodeChange(function(b){a.linkRewriteService.rewriteLinks(b,d.parentPage.langCode)},!0),a.configuration("translateAttributes")&&(e&&a.documentLangService.setHtmlTextDirection(c),this.parentPage.onPageNodeChange(function(a){var c=d.filterAndMapNewAttributes(a,d.scrapedAttributes);d.scrapedAttributes=d.scrapedAttributes.concat(c),d.handleAttributeTranslations(d.scrapedAttributes,b)},!0))},this.setCollectMode=function(){a.configuration("saveNewAttributes")&&a.segmentsService.get(a.configuration("projectId"),this.location,function(a){d.parentPage.onPageNodeChange(function(b){var c=d.filterAndMapNewAttributes(b,d.scrapedAttributes),e=d.filterUniqueAttributes(c,d.scrapedAttributes);d.scrapedAttributes=d.scrapedAttributes.concat(c),d.save(e,a.segments)},!0)})},this.on=function(){a.documentLangService.setHtmlLangAttribute(d.parentPage.langCode),a.observerService.observe("modeChange",c)},this.off=function(){d.unsetElAttrTranslations(),a.documentLangService.setHtmlLangAttribute(a.documentLangService.getLangCode()),a.documentLangService.setHtmlTextDirection(a.documentLangService.getTextDir())};try{this.on()}catch(i){console.error(i),this.off()}}}(Qordoba),function(a){"use strict";a.Images=function(b){function c(b,e){switch(b){case"replace":try{d.setReplaceMode(e.image.images)}catch(f){console.error(f),d.off()}break;case"collect":d.location=a.domainMappingService.convertToSourcePagePath(d.location),d.setCollectMode();break;case"liveEditor":d.setLiveEditorMode();break;case void 0:d.imagesCSS.style.deactivateRules()}a.observerService.unobserve("modeChange",c)}var d=this;this.parentPage=b,this.location=this.parentPage.location,this.scrapedImages=[],this.version=null,this.imagesCSS={selector:"img",rules:"visibility:hidden!important;",style:null},this.filterAndMapNewScraped=function(b,c){for(var d=[],e=0,f=b.length;f>e;e++){var g=b[e].node;g.nodeName&&"img"===g.nodeName.toLowerCase()&&null!==g.src&&g.src.length&&d.push({node:g,path:b[e].path})}return a.fuzzyMatchService.mapMatchFactors(d,"images")},this.filterUniqueImages=function(a,b){for(var c=[],d=0,e=a.length;e>d;d++){for(var f=!0,g=0,h=b.length;h>g;g++){var i=!0;for(var j in a[d].factors)if(a[d].factors[j]!==b[g].factors[j]){i=!1;break}if(i){f=!1;break}}f&&c.push(a[d])}return c};var e,f=.5,g=[],h=0;
this.save=function(b,c){var i=a.configuration("apiBaseUrl")+"projects/"+a.configuration("projectId")+"/images?pageUrl="+encodeURIComponent(d.location);g=g.concat(b),clearTimeout(e),e=setTimeout(function(){for(var b={version:d.version},e=0,f=c.length;f>e;e++)for(var j=0,k=g.length;k>j;j++){var l=!0;for(var m in c[e].factors)if(c[e].factors[m]!==g[j].factors[m]){l=!1;break}if(l){g.splice(j,1);break}}b.data=g.splice(0,g.length);for(var n=0,o=b.data.length;o>n;n++)b.data[n]={original_source:b.data[n].factors.original_source,factors:b.data[n].factors};b.data.length&&a.xhrService.save(i,b,function(a){d.version=a.version,h=0},function(a){h++,1>h&&d.save(b.data,savedSegmentsResponse)})},1e3*f)},this.get=function(b,c){var d=a.configuration("apiBaseUrl")+"projects/"+a.configuration("projectId")+"/images?pageUrl="+encodeURIComponent(this.location);a.xhrService.get(d,function(a){"function"==typeof b&&b(a)})},this.unsetImageTranslation=function(){for(var a=0,b=this.scrapedImages.length;b>a;a++){var c=this.scrapedImages[a].node;this.scrapedImages[a].translated=!1,c.removeAttribute("data-q-image-id"),c.src=this.scrapedImages[a].factors.original_source,null!==this.scrapedImages[a].factors.original_height?c.height=this.scrapedImages[a].factors.original_height:c.removeAttribute("height"),null!==this.scrapedImages[a].factors.original_width?c.height=this.scrapedImages[a].factors.original_width:c.removeAttribute("width")}},this.setImageTranslation=function(a,b){a.translated=!0;var c=a.node;c.style.opacity;c.style.opacity=0,c.addEventListener("load",function(){c.style.opacity=1}),c.setAttribute("data-q-image-id",b.translation_id),c.src=b.new_source,b.new_height&&(c.height=b.new_height),b.new_width&&(c.height=b.new_width)},this.handleImageTranslations=function(b,c){for(var d=0,e=b.length;e>d;d++)if(!b[d].translated){var f=a.fuzzyMatchService.match(b[d],c,"images");f&&this.setImageTranslation(b[d],f.match)}},this.setReplaceMode=function(b){var c=this;DOMReadyService.queueReady(function(){c.imagesCSS.style.deactivateRules()}),a.configuration("translateImages")&&this.parentPage.onPageNodeChange(function(a){c.scrapedImages=c.scrapedImages.concat(c.filterAndMapNewScraped(a,c.scrapedImages)),c.handleImageTranslations(c.scrapedImages,b)},!0)},this.setLiveEditorMode=function(){var a=this;this.get(function(b){a.imagesCSS.style.deactivateRules(),a.parentPage.onPageNodeChange(function(c){a.scrapedImages=a.scrapedImages.concat(a.filterAndMapNewScraped(c,a.scrapedImages)),a.handleImageTranslations(a.scrapedImages,b.images)},!0)},function(){a.imagesCSS.style.deactivateRules()})},this.setCollectMode=function(b){var c=this;a.configuration("saveNewImages")&&this.get(function(a){c.version=a.version,c.parentPage.onPageNodeChange(function(b){var d=c.filterAndMapNewScraped(b,c.scrapedImages),e=c.filterUniqueImages(d,c.scrapedImages);c.scrapedImages=c.scrapedImages.concat(d),c.save(e,a.images)},!0)}),this.imagesCSS.style.deactivateRules()},this.on=function(){this.imagesCSS.style=new a.cssService.StyleSheetRuleSet(this.imagesCSS.selector,this.imagesCSS.rules),a.configuration("showLoaderWhenSwitchingLanguage")||this.imagesCSS.style.activateRules(),a.observerService.observe("modeChange",c)},this.off=function(){this.imagesCSS.style.deactivateRules(),this.unsetImageTranslation()};try{this.on()}catch(i){console.error(i),this.off()}}}(Qordoba),function(a){"use strict";a.Page=function(b){function c(){e.whenReady(function(){h(a.domChangeService.extractDOMNodes(document.body)),a.observerService.observe("domChange",h)})}function d(){e.segments=new a.Segments(e),e.attributes=new a.Attributes(e),e.images=new a.Images(e),e.styles=new a.Styles(e),e.seo=new a.Seo(e)}var e=this;if(!b)throw new TypeError("No page location provided");var f=[],g=a.observerService.create("contentChange");this.location=b.cleaned,this.langCode=a.domainMappingService.getLangCodeFromPath(b.raw),this.whenReady=function(a){DOMReadyService.queueReady(a)},this.getPageNodes=function(){return f},this.addPageNodes=function(a){f=f.concat(a)},this.onPageNodeChange=function(b,c){c&&b(f),a.observerService.observe("contentChange",b)};var h=function(b){if(a.domChangeService.shouldIgnoreDOMChanges(b))return!1;var c=(a.configuration("blackList"),a.domChangeService.filterBlackListItems(b));c.length&&(e.addPageNodes(c),g.publish(c))};this.on=function(){var e=a.modeService.get(b.raw);switch(c(),d(),e){case"liveEditor":a.modeService.publishMode(e);break;case"replace":var f,g=a.domainMappingService.convertToSourcePagePath(this.location),h=a.configuration("publisherBaseUrl")+"project/"+a.configuration("projectId")+"?pageUrl="+encodeURIComponent(g)+"&langCode="+this.langCode;a.configuration("showLoaderWhenSwitchingLanguage")&&(f=setTimeout(function(){a.loadingService.show()},a.configuration("showLoaderDelay"))),a.xhrService.get(h,function(b){clearTimeout(f),a.loadingService.hide(),a.modeService.publishMode(e,b)},function(b){clearTimeout(f),a.loadingService.hide(),a.modeService.publishMode(void 0)});break;case"collect":a.modeService.publishMode("collect");break;default:this.off()}},this.off=function(){a.observerService.unobserve("domChange",h),a.observerService.destroy("contentChange"),this.seo.off(),this.segments.off(),this.attributes.off(),this.images.off(),this.styles.off()};try{this.on()}catch(i){console.error(i),this.off()}}}(Qordoba),function(a){"use strict";a.Segments=function(b){function c(b,e){switch(b){case"replace":try{d.setReplaceMode(e.segment.segments)}catch(f){console.error(f),d.off()}break;case"collect":d.location=a.domainMappingService.convertToSourcePagePath(d.location),d.setCollectMode();break;case"liveEditor":d.setLiveEditorMode();break;case void 0:d.segmentsCSS.style.deactivateRules()}a.observerService.unobserve("modeChange",c)}var d=this;this.parentPage=b,this.location=b.location,this.scrapedSegments=[],this.segmentsCSS={selector:"h1,h2,h3,h4,h5,h6,p,td,th,li,dd,dt,figcaption,figure,pre,abbr,address,cite,q,a,button,span,em,strong,i,b,sub,sup",rules:"visibility:hidden!important;",style:null},this.filterAndMapNewScraped=function(b){for(var c=[],d=0;d<b.length;d++){var e=b[d].node;3===e.nodeType&&e.nodeValue&&e.nodeValue.trim().length>0&&!/^[.,\/#!$%\^&\*;:{}=≡\-_`~()|©\s»«‹›]+$/.test(e.nodeValue)&&!/^[\d,]+$/.test(e.nodeValue)&&c.push({node:e,path:b[d].path})}var f=a.fuzzyMatchService.mapMatchFactors(c,"segments");return f},this.filterUniqueSegments=function(a,b){for(var c=[],d=0;d<a.length;d++){for(var e=!0,f=0;f<b.length;f++){var g=!0;for(var h in a[d].factors)if(a[d].factors[h]!==b[f].factors[h]){g=!1;break}if(g){e=!1;break}}e&&c.push(a[d])}return c};var e,f=.5,g=[],h=0;this.save=function(b,c){a.configuration("apiBaseUrl")+"projects/"+a.configuration("projectId")+"/segments?pageUrl="+encodeURIComponent(d.location);g=g.concat(b),clearTimeout(e),e=setTimeout(function(){for(var b={},e=0;e<c.length;e++)for(var f=0;f<g.length;f++){var i=!0;for(var j in c[e].factors)if(c[e].factors[j]!==g[f].factors[j]){i=!1;break}if(i){g.splice(f,1);break}}b.data=g.splice(0,g.length);for(var k=0;k<b.data.length;k++)b.data[k]={original_plain:b.data[k].factors.original_plain,factors:b.data[k].factors};b.data.length&&a.segmentsService.save(a.configuration("projectId"),d.location,b.data,function(a){h=0},function(a){h++,1>h&&d.save(b.data,c)})},1e3*f)},this.unsetSegmentTranslations=function(){for(var a=0;a<this.scrapedSegments.length;a++)if(this.scrapedSegments[a].translated&&"qwts"===this.scrapedSegments[a].node.nodeName.toLowerCase()&&this.scrapedSegments[a].node.parentNode){var b=document.createTextNode(this.scrapedSegments[a].factors.original_plain);this.scrapedSegments[a].translated=!1,this.scrapedSegments[a].node.parentNode.replaceChild(b,this.scrapedSegments[a].node)}},this.setSegmentTranslation=function(a,b,c){a.translated=!0;var d=a.node;if(!d||!d.parentNode)return!1;var e=c,f=a.factors.original_plain[0],g=a.factors.original_plain[a.factors.original_plain.length-1];f&&f.match(/\s/)&&(e=f+e),g&&g.match(/\s/)&&(e+=g);var h=document.createElement("qwts");h.setAttribute("data-id",b),h.innerText=h.textContent=e,d.parentNode.replaceChild(h,d),a.node=h},this.handleSegmentTranslations=function(b,c){for(var d=0,e=b.length;e>d;d++)if(!b[d].translated){var f=a.fuzzyMatchService.match(b[d],c,"segments");f&&this.setSegmentTranslation(b[d],f.match.segment_id,f.match.translation)}},this.setReplaceMode=function(b){var c=this;a.configuration("translateSegments")&&this.parentPage.onPageNodeChange(function(a){var d=c.filterAndMapNewScraped(a,c.scrapedSegments);c.scrapedSegments=c.scrapedSegments.concat(d),c.handleSegmentTranslations(c.scrapedSegments,b)},!0),DOMReadyService.queueReady(function(){c.segmentsCSS.style.deactivateRules()})},this.setCollectMode=function(){var b=this;this.segmentsCSS.style.deactivateRules(),a.configuration("saveNewSegments")&&a.segmentsService.get(a.configuration("projectId"),this.location,function(a){b.parentPage.onPageNodeChange(function(c){var d=b.filterAndMapNewScraped(c,b.scrapedSegments),e=b.filterUniqueSegments(d,b.scrapedSegments);b.scrapedSegments=b.scrapedSegments.concat(d),b.save(e,a.segments)},!0)})},this.setLiveEditorMode=function(){var b=this;a.segmentsService.get(a.configuration("projectId"),this.location,function(c){var d=c.segments;a.liveEditorMessagesService.sendMessage("get_segments",{},function(a){for(var c=a.data.content,e=0;e<d.length;e++){for(var f=!1,g=0;g<c.length;g++)if(d[e].segment_id===c[g].segment_id){d[e].translation=c[g].translation,f=!0;break}f&&d[e].translation.length||(d[e].translation=d[e].original_plain)}b.segmentsCSS.style.deactivateRules(),b.parentPage.onPageNodeChange(function(a){b.scrapedSegments=b.scrapedSegments.concat(b.filterAndMapNewScraped(a,b.scrapedSegments)),b.handleSegmentTranslations(b.scrapedSegments,d)},!0)})},function(){b.segmentsCSS.style.deactivateRules()})},this.on=function(){this.segmentsCSS.style=new a.cssService.StyleSheetRuleSet(this.segmentsCSS.selector,this.segmentsCSS.rules),a.configuration("showLoaderWhenSwitchingLanguage")||this.segmentsCSS.style.activateRules(),a.observerService.observe("modeChange",c)},this.off=function(){this.unsetSegmentTranslations(),this.segmentsCSS.style.deactivateRules()};try{this.on()}catch(i){console.error(i),this.off()}}}(Qordoba),function(a){"use strict";a.Seo=function(b){var c=this;this.parentPage=b,this.location=this.parentPage.location,this.type="seo",this.meta={title:null,description:null,keywords:null},this.findMetaContent=function(a){for(var b=document.getElementsByTagName("meta"),c=0;c<b.length;c++)if(b[c].getAttribute("name")===a)return{el:b[c],value:b[c].getAttribute("content")};return null};var d=function(b,e){switch(b){case"replace":try{c.setReplaceMode(e.seo.page_seo)}catch(f){console.error(f),c.off()}break;case"collect":c.setCollectMode()}a.observerService.unobserve("modeChange",d)};this.on=function(){a.observerService.observe("modeChange",d)},this.off=function(){this.location=null};try{this.on()}catch(e){console.error(e),this.off()}},a.Seo.prototype.setReplaceMode=function(a){var b,c;this.meta=a,this.meta.title&&(document.title=this.meta.title),this.meta.description&&this.meta.description.length&&(b=this.findMetaContent("description")||{},b.el||(b.el=document.createElement("meta"),b.el.setAttribute("name","description"),document.getElementsByTagName("head")[0].appendChild(b.el)),b.el.setAttribute("content",this.meta.description)),this.meta.keywords&&this.meta.keywords.length&&(c=this.findMetaContent("keywords")||{},c.el||(c.el=document.createElement("meta"),c.el.setAttribute("name","keywords"),document.getElementsByTagName("head")[0].appendChild(c.el)),c.el.setAttribute("content",this.meta.keywords))},a.Seo.prototype.setCollectMode=function(){var b=this,c=a.configuration("apiBaseUrl")+"projects/"+a.configuration("projectId")+"/seo?pageUrl="+encodeURIComponent(a.domainMappingService.convertToSourcePagePath(b.location)),d=this.findMetaContent("description"),e=this.findMetaContent("keywords"),f={title:document.title};d&&d.el?f.description=d.value:f.description="",e&&e.el?f.keywords=e.value:f.keywords="",a.configuration("saveSeo")&&a.xhrService.get(c,function(d){var e=a.pageLocationService.getCurrentPage(),g=!1;if(b.location===a.domainMappingService.convertToSourcePagePath(b.location))if(d.page_seo){for(var h in f)d.page_seo&&d.page_seo.hasOwnProperty(h)&&d.page_seo[h]!==f[h]&&(g=!0);g&&a.xhrService.save(c,f)}else a.xhrService.save(c,f);else a.configuration("translateOverride")&&e.queryParams&&"true"==e.queryParams["force-collect"]&&(d.page_seo||a.xhrService.save(c,f))})}}(Qordoba),function(a){"use strict";a.Styles=function(b){function c(b,e){switch(h.removeFoucPrevention(),b){case"replace":try{d.setReplayMode(e.macro.macro),h.addCssOverride(e.css)}catch(f){console.error(f),d.off()}break;case"liveEditor":d.setLiveEditorMode();break;case void 0:}a.observerService.unobserve("modeChange",c)}var d=this;this.parentPage=b,this.location=this.parentPage.location,this.type="styles";var e={addClass:function(a,b){if(!a||"string"!=typeof a.className)return!1;var c=a.className.split(" ");c.indexOf(b)<0&&(c.push(b),a.className=c.join(" "))},removeClass:function(a,b){if(!a||"string"!=typeof a.className)return!1;var c=a.className.split(" ");c.indexOf(b)>-1&&(c.splice(c.indexOf(b),1),a.className=c.join(" "))}},f={formatMacroStep:function(b,c){var d={stepId:c,rolled_back_in_step:b.rolled_back_in_step,raw:{newState:b.newState,elmPath:b.elmPath},css:{targetClass:"q-macro-step-"+c,mediaQuery:f.getMediaQuery(b.newState.mediaQuery),cssDeclaration:f.getCSSDeclaration(b.newState),cssRuleInstance:null},el:null};return d.css.cssRuleInstance=new a.cssService.StyleSheetRuleSet("."+d.css.targetClass,d.css.cssDeclaration,d.css.mediaQuery),d.css.cssRuleInstance.activateRules(),d},targetElFromPath:function(a){for(var b=a.split(" > ").slice(1),c=document.body,d=0;d<b.length;d++){var e=0,f=b[d].replace(/:eq\((\d*)\)/,"");/.*:eq\((\d*)\)/.test(b[d])&&(e=parseInt(b[d].replace(/.*:eq\((\d*)\)/,"$1")));for(var g=c.querySelectorAll(f),h=0,i=0;i<g.length;i++)if(g[i].parentNode===c){if(h===e){c=g[i];break}h++}if(c&&d===b.length-1)return c}return null},getMediaQuery:function(b){return 0===b.MIN_WIDTH&&b.MAX_WIDTH>=a.configuration("noMediaQueryWidth")||!a.config.supportsResponsive(document)?{}:{minWidth:b.MIN_WIDTH,maxWidth:b.MAX_WIDTH}},getCSSDeclaration:function(a){var b="";for(var c in a)"mediaQuery"!==c&&(b+=c+":"+a[c].value,a[c].priority&&(b+="!important"),b+=";");return b},unsetInlineLeCSS:function(a,b){if(!a)return!1;for(var c in b)a.style.removeProperty?a.style.removeProperty(c):a.style.removeAttribute(c)}},g={steps:[],desiredStep:0,resetAll:function(){for(;g.steps.length;)g.steps[0].css.cssRuleInstance.deactivateRules(),g.removeMacroStep(0)},createMacroStep:function(a,b){g.steps[b]=f.formatMacroStep(a,b)},removeMacroStep:function(a){var b=g.steps[a];b&&(e.removeClass(b.el,b.css.targetClass),g.steps.splice(a,1))},applyStylesToSteps:function(){for(var a=0;a<g.steps.length;a++)g.steps[a].el||g.applyMacroStepStyles(a)},removeStylesFromSteps:function(){for(var a=0;a<g.steps.length;a++){var b=g.steps[a];b&&e.removeClass(b.el,b.css.targetClass)}},applyMacroStepStyles:function(a){var b=g.steps[a];if(!(b.rolled_back_in_step>=0&&b.rolled_back_in_step<=g.desiredStep)){var c=f.targetElFromPath(b.raw.elmPath);c?(b.el=c,e.addClass(b.el,b.css.targetClass),f.unsetInlineLeCSS(b.el,b.raw.newState)):console.error("ELEMENT NOT TARGETTED!",b)}},handleLiveEditorMacro:function(b,c){g.desiredStep="undefined"!=typeof b.desiredStep?b.desiredStep:b.currentStep,g.resetAll();for(var d=0;d<b.steps.length;d++){var e=b.steps[d];d<=g.desiredStep&&(g.createMacroStep(e,d),g.applyMacroStepStyles(d))}"undefined"!=typeof c&&"macro_update"===c&&a.liveEditorService.isLiveEditorMode()&&(b.currentStep=b.desiredStep,a.liveEditorMessagesService.sendMessage("macro_update",b))},handleLiveEditorMacrosEvt:function(a){g.handleLiveEditorMacro(a.data.content,a.data.identifier)}},h={stylesheetEl:null,foucPreventionStyle:null,addFoucPrevention:function(){a.configuration("overrideCss")&&(h.foucPreventionStyle=new a.cssService.StyleSheetRuleSet("body",'-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"; filter: alpha(opacity=0); -moz-opacity: 0; -khtml-opacity: 0; opacity: 0;'),a.configuration("showLoaderWhenSwitchingLanguage")||h.foucPreventionStyle.activateRules())},removeFoucPrevention:function(){a.configuration("overrideCss")&&h.foucPreventionStyle&&h.foucPreventionStyle.deactivateRules()},addCssOverride:function(b){a.configuration("overrideCss")&&b&&b.length&&(h.stylesheetEl=a.cssService.createCustomStaticStyleSheet(b))},removeCssOverride:function(){a.configuration("overrideCss")&&h.stylesheetEl&&a.cssService.removeCustomStaticStyleSheet(h.stylesheetEl)}};this.setLiveEditorMode=function(){a.liveEditorMessagesService.sendMessage("get_macro",{},g.handleLiveEditorMacrosEvt),a.liveEditorMessagesService.subscribe("macro_update",g.handleLiveEditorMacrosEvt),a.liveEditorMessagesService.sendMessage("get_css",{},function(a){a.data.content.target&&a.data.content.target.length&&h.addCssOverride(a.data.content.target)})},this.setReplayMode=function(b){a.configuration("liveEditor")&&(b.currentStep=b.current_step,g.handleLiveEditorMacro(b))},this.on=function(){this.parentPage.onPageNodeChange(g.applyStylesToSteps),h.addFoucPrevention(),a.observerService.observe("modeChange",c)},this.off=function(){a.liveEditorService.isLiveEditorMode()&&a.liveEditorMessagesService.unsubscribe("macro_update"),h.removeCssOverride(),h.removeFoucPrevention(),g.removeStylesFromSteps()};try{this.on()}catch(i){console.error(i),this.off()}}}(Qordoba),function(a){"use strict";var b;a.translate=function(c,d){var e=a.pageLocationService.getCurrentPage();c&&(e.raw=a.domainMappingService.getPathAsTarget(e.raw,c)),c||(c=a.domainMappingService.getLangCodeFromPath(e.raw)),!c&&a.configuration("selectLastLanguage")&&localStorageWrapper.getItem(a.configuration("lsKey"))&&(c=localStorageWrapper.getItem(a.configuration("lsKey")),e.raw=a.domainMappingService.getPathAsTarget(e.raw,c)),a.configuration("selectLastLanguage")?c&&localStorageWrapper.setItem(a.configuration("lsKey"),c):localStorageWrapper.removeItem(a.configuration("lsKey")),e.cleaned=a.domainMappingService.substituteDomain(e.cleaned,a.configuration("customDomain"),a.configuration("projectDomain")),a.liveEditorService.isLiveEditorMode()&&(e.cleaned=a.liveEditorService.proxyReplace(e.cleaned)),b&&(b.off(),b=void 0),a.documentLangService.storeLangCode(a.documentLangService.getHtmlLangAttribute()),a.documentLangService.storeTextDir(a.documentLangService.getHtmlTextDirection());var f=a.configuration("showLoaderWhenSwitchingLanguage");"undefined"!=typeof d&&f!==d&&(f=d,a.configuration("showLoaderWhenSwitchingLanguage",d)),b=new a.Page(e),a.configuration("showLoaderWhenSwitchingLanguage",f)},a.unTranslate=function(){b&&(b.off(),b=void 0),localStorageWrapper.removeItem(a.configuration("lsKey"))},a.init=function(b){var c;a.configuration(b),a.pageLocationService.setCurrentPage(window.location.href),a.config.registerBlackListItem("^script","^qwts","^style","^iframe","^svg","^canvas","^noscript","#comment$"),a.config.registerBlackListItem("[notranslate=]","[notranslate=true]"),a.config.registerBlackListItem(".gm-style"),a.config.registerBlackListItem(".twitter-video",".twitter-tweet"),a.config.registerBlackListItem("#q-ext-root"),b.siteKey&&(c=b.siteKey.split("."),a.configuration({projectId:parseInt(c[0]),verificationToken:c[1]})),a.liveEditorService.isLiveEditorMode()&&a.pageLocationService.setTopLevelDomain(),a.translate(),a.pageLocationService.onPageChange(a.translate)}}(Qordoba);