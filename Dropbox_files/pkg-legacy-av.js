define("modules/clean/business/analytics",["require","exports","modules/clean/analytics"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(function(){function e(e){var t=this;this.tracker=function(e){return t.trackScrolling(e)},this.key=e.key,this.topOffsetTrigger=e.top_offset_trigger||200,window.addEventListener("scroll",this.tracker,!0)}return e.prototype.trackScrolling=function(e){window.scrollY>this.topOffsetTrigger&&(n.TeamsWebActionsLogger.log(this.key),window.removeEventListener("scroll",this.tracker,!0))},e})();t.ScrollTracker=r}),define("modules/clean/business/components/business_comparison_matrix",["require","exports","external/underscore","jquery"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(e,t){var a=this;this.handleChange=function(e){if(!e&&window.requestAnimationFrame)window.requestAnimationFrame(function(){a.handleChange(!0)});else{var t=0;a.headerIsFixed&&(t=r(".supernav__container").height());var n=a.$stickyHeader.outerHeight(),s=a.$window.scrollTop(),i=a.$compareTable.position().top-s-t,o=a.$lastHeader.position().top-s-n-t+8,l="";if(i<0){if(o>0){a.isSticky=!0,a.$compareTable.addClass("sticky");var c=Math.min(-i,a.$compareTable.height()-n);l="translateY("+c+"px)"}}else a.isSticky=!1,l="translateY(0)",a.$compareTable.removeClass("sticky");a.$stickyHeader.css({transform:l,"-webkit-transform":l,"-ms-transform":l})}},this.isSticky=!1,this.headerIsFixed=!!t,this.$window=r(window),this.$compareTable=r(e),this.$lastHeader=this.$compareTable.find('[class*="breakdown__header"]').last(),this.$stickyHeader=this.$compareTable.find("thead"),this.$spacer=r(".mast-head-spacer"),this.$window.on("scroll",function(e){a.handleChange(!1)});var s=n.throttle(this.handleChange,25);this.$window.on("resize",function(e){s(!1)}),r(this.handleChange)}return e})();t.StickyComparisonMatrix=a}),define("modules/clean/business/components/pricing_toggle",["require","exports","tslib","jquery","modules/core/cookies","external/react","external/classnames","modules/clean/react/css","modules/core/i18n","modules/clean/analytics"],function(e,t,n,r,a,s,i,o,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=(function(e){function t(t){var n=e.call(this,t)||this;return n.getYearlyText=function(){var e=l._("Billed yearly");return n.props.addAnnualSavings&&(e=l._("Billed yearly / save 17%")),e},n.state={selected:n.props.schedule},n.$prices=r(n.props.priceSelectors),n.$monthlyToggles=r(".toggles__toggle-monthly"),n.$annualToggles=r(".toggles__toggle-annual"),n}return n.__extends(t,e),t.prototype.render=function(){var e=this.props.idPrefix+"-annual",t=this.props.idPrefix+"-monthly",n=i({toggles__toggle:!0,"toggles__toggle--annual":!0,"toggles__toggle--selected":"annual"===this.state.selected}),r=i({toggles__toggle:!0,"toggles__toggle--monthly":!0,"toggles__toggle--selected":"monthly"===this.state.selected});return s.createElement("div",{className:"toggles toggles--radio"},s.createElement("div",{className:"toggles__holder"},s.createElement("input",{id:e,type:"radio",checked:"annual"===this.state.selected,name:"pricing-schedule",className:n,onChange:this.handleAnnualToggle.bind(this)}),s.createElement("label",{className:"toggles__label",htmlFor:e},this.getYearlyText())),s.createElement("div",{className:"toggles__holder"},s.createElement("input",{id:t,type:"radio",checked:"monthly"===this.state.selected,name:"pricing-schedule",className:r,onChange:this.handleMonthlyToggle.bind(this)}),s.createElement("label",{className:"toggles__label",htmlFor:t},l._("Billed monthly"))))},t.prototype.handleAnnualToggle=function(){"annual"!==this.state.selected&&(a.create("pricing-schedule","annual",30),this.setState(function(e){return e.selected="annual",e}),c.TeamsWebActionsLogger.log("click_pricing_toggle_annual"),this.$annualToggles.click(),this.$prices.each(function(e,t){var n=r(t);n.html(n.attr("data-annual-by-month"))}))},t.prototype.handleMonthlyToggle=function(){"monthly"!==this.state.selected&&(a.create("pricing-schedule","monthly",30),this.setState(function(e){return e.selected="monthly",e}),c.TeamsWebActionsLogger.log("click_pricing_toggle_monthly"),this.$monthlyToggles.click(),this.$prices.each(function(e,t){var n=r(t);n.html(n.attr("data-monthly"))}))},t})(s.Component);t.PricingToggleView=p,t.PricingToggle=o(p,["/static/css/business/components/pricing_toggle-vflWkKuQc.css"])}),define("modules/clean/business/computer_carousel",["require","exports","jquery","external/underscore","modules/clean/analytics"],function(e,t,n,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=(function(e){var t=e.createElement("div");return t.style.hasOwnProperty("transition")?"transitionend":t.style.hasOwnProperty("WebkitTransition")?"webkitTransitionEnd":t.style.hasOwnProperty("MozTransition")?"transitionend":t.style.hasOwnProperty("OTransition")?"oTransitionEnd":"transitionend"})(document),i=(function(){function e(e){var t=this;this.onDocumentReady=function(){t.$window.on("resize",r.debounce(t.resizeCarouselHeight,500)),t.$bullets.on("click",t.onBulletClick),t.$carousel.on("animationend",t.onAnimationEnd),t.$carousel.find(".benefits-carousel__arrow").on("click",t.onArrowClick),t.resizeCarouselHeight()},this.onAnimationEnd=function(){n(".benefits-carousel-sherlock").removeClass("benefits-carousel-sherlock--transition")},this.onBulletClick=function(e){var r=n(e.currentTarget),s=parseInt(r.attr("data-index"),10);if(n(".benefits-carousel-sherlock").addClass("benefits-carousel-sherlock--transition"),t.expSubgrowthBizHpSherlock){var i=r.attr("data-event");i&&a.TeamsWebActionsLogger.log(i)}else a.TeamsWebActionsLogger.log("carousel_scroll");t.changeActiveElement(s)},this.onArrowClick=function(e){e.preventDefault();var n,r=t.currentIndex;n=r===t.$bullets.length-1?0:r+1,t.changeActiveElement(n),a.TeamsWebActionsLogger.log("carousel_scroll")},this.resizeCarouselHeight=function(){var e=0;t.$copyList.find(".copy-item").each(function(){var t=n(this).height();t>e&&(e=t)}),t.$copyList.height(e)},this.translateX=function(e,t){var n="translateX(-"+t+"%)";e.css({"-webkit-transform":n,"-ms-transform":n,transform:n})},this.changeActiveElementFn=function(e){if(t.currentIndex!==e){var r=t.currentIndex;t.$carousel.find(".active").removeClass("active"),t.bindItemsTransition(t.$copyList,t.$copyList.find(".copy-item"),e),t.bindItemsTransition(t.$imageList,t.$imageList.find(".image-item"),e),n(".benefits-carousel__gradient").removeClass("benefits-carousel__gradient--"+t.gradientMap[r]).addClass("benefits-carousel__gradient--"+t.gradientMap[e]),t.$bulletList.find("[data-index="+e+"]").addClass("active")}},this.bindItemsTransition=function(e,n,r){var a=!1;n.one(s,function(s){var i=s.originalEvent.propertyName;if(t.elementTransitions.indexOf(i)>-1&&!a){a=!0;var o=n.length,l=0;r<=o-1&&(l=r/o*100),t.translateX(e,l),e.find("[data-index="+r+"]").addClass("active")}})},this.$window=n(window),this.$carousel=n(e.idSelector),this.$imageList=this.$carousel.find(".image-list"),this.$copyList=this.$carousel.find(".copy-list"),this.$bulletList=this.$carousel.find(".bullet-list"),this.$bullets=this.$carousel.find(".bullet"),this._currentIndex=0,this.changeActiveElement=r.throttle(this.changeActiveElementFn,1e3),this.gradientMap=["orange","blue","yellow"],e.gradientMap&&e.gradientMap.length&&(this.gradientMap=e.gradientMap),this.elementTransitions=["opacity","bottom"],this.expSubgrowthBizHpSherlock=e.expSubgrowthBizHpSherlock,n(document).ready(this.onDocumentReady)}return Object.defineProperty(e.prototype,"currentIndex",{get:function(){var e=this.$bulletList.find(".active").attr("data-index");return e?(this._currentIndex=parseInt(e,10),this._currentIndex):this._currentIndex},enumerable:!0,configurable:!0}),e})();t.ComputerCarousel=i}),define("modules/clean/business/landing",["require","exports","jquery","modules/clean/analytics","modules/core/browser","modules/clean/dbmodal"],function(e,t,n,r,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(){function e(e){var t=this;if(this.moveBackground=function(e){var n=t.$window.scrollTop(),r=t.startingPosition+.55*n;t.landingHeader.css("background-position-y",r+"px")},this.onClickTrackingLink=function(e){e.preventDefault();var t=n(e.currentTarget),s=t.attr("data-event-name");r.TeamsWebActionsLogger.log(s,void 0,function(){return a.redirect(t.attr("href"))})},this.hasModal=e,this.landingHeader=n(".business-landing.business-header"),this.startingPosition=parseInt(this.landingHeader.css("background-position-y"),10),this.$window=n(window),this.$window.on("scroll",this.moveBackground),this.hasModal){new s.DBModal({element_id:"business-plans-modal"}).show()}n("#business-plans-modal a[data-event-table='web_teams']").click(this.onClickTrackingLink)}return e})();t.LandingPage=i}),define("modules/clean/expanding_section",["require","exports","jquery","modules/clean/analytics"],function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(e,t,r,a,s){this.$parent=n("#"+e),t&&(this.$scrollElement=n(""+t)),this.scrollElementOffset=r||0,this.expandingSectionAnalyticsId=a,this.defaultOffset=95,this.toggledState=!1,this.$toggleButton=s?n("#"+s):this.$parent.find(".expanding-section__button"),this.$closeButton=this.$parent.find(".expanding-section__button-close"),this._setupClickHandlers()}return e.prototype._setupClickHandlers=function(){var e=this,t=function(t){t.preventDefault(),e._scrollToSection(),e._expandSection(),e.expandingSectionAnalyticsId&&e._logAnalyticsTracking()},n=function(t){t.preventDefault(),e._expandSection()};this.$toggleButton.on("click",t),this.$closeButton.length>0&&this.$closeButton.on("click",n)},e.prototype._scrollToSection=function(){var e=this.$parent.offset().top-this.scrollElementOffset-this.defaultOffset;this.$scrollElement&&(e=this.$parent.find(this.$scrollElement).offset().top-this.scrollElementOffset),this.toggledState||n("html, body").animate({scrollTop:e})},e.prototype._expandSection=function(){var e=0;this.toggledState?(e=0,this.toggledState=!1):(e=this.$parent.find(".expanding-section__content-container").outerHeight(!0),this.toggledState=!0),this.$parent.find(".expanding-section__content").css("max-height",e),this.$toggleButton.blur().toggleClass("button-toggled").attr("aria-expanded",JSON.stringify(this.toggledState))},e.prototype._logAnalyticsTracking=function(){r.TeamsWebActionsLogger.log(this.expandingSectionAnalyticsId)},e})();t.ExpandingSection=a}),define("modules/clean/index_2015",["require","exports","external/underscore","jquery","modules/clean/analytics","modules/clean/dbmodal","modules/clean/register_form"],function(e,t,n,r,a,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(){function e(){this.onScrollHandler=function(){return r(window).scrollTop()>350?(r("#dropbox-logo").addClass("fade-out"),r(".button-toggler").addClass("show-sign-up")):(r("#dropbox-logo").removeClass("fade-out"),r(".button-toggler").removeClass("show-sign-up"))},this.onScrollHandler(),r(window).scroll(n.throttle(this.onScrollHandler,33,{leading:!0,trailing:!0}));var e=new s.DBModal({element_id:"sign-up-modal"});r("#sign-up, .sign-up").on("click",function(t){return t.preventDefault(),a.UserActivityLogger.log("","web_register"),e.show()});var t=new s.DBModal({element_id:"index-sign-in-modal",focus:"input[name='login_email']"});if(r(document).on(i.RegisterForm.USER_EXISTS,function(e){return t.show(e.focus,e.prefill)}),r(".scroll-link").click(function(e){e.preventDefault();var t=r("header").outerHeight(!0)+16,n=r(e.target).data("scroll-target");return r("html, body").animate({scrollTop:r(n).offset().top-t},500)}),r(".get-dropbox-cta-v2__show-modal").length>0){var o=new s.DBModal({element_id:"pro-plan-modal"});r(".get-dropbox-cta-v2__show-modal").on("click",function(e){return o.show()})}}return e})();t.DropboxIndex=o}),define("modules/clean/legacy_pyxl_controllers/accordion",["require","exports","jquery","modules/core/browser"],function(e,t,n,r){"use strict";function a(e){e||n(".accordion-list__item").eq(0).addClass("active"),n(".accordion-list__item").on("click",function(e){n(e.currentTarget).addClass("active").siblings().removeClass("active")}),n(".accordion-list__item--closeable .accordion-list__heading").on("click",function(e){var t=n(e.currentTarget).parent();t.hasClass("active")&&(t.removeClass("active"),e.stopPropagation())});var t=r.get_hash();t&&(n("html, body").animate({scrollTop:n(t).offset().top-100},600),n(t).addClass("active").siblings().removeClass("active"))}Object.defineProperty(t,"__esModule",{value:!0}),t.Accordion=a}),function(){define("modules/clean/legacy_pyxl_controllers/animation",["jquery"],function(e){return(function(){function t(t){this.id=t.id,this.animationQueue=t.animationQueue,this.$el=e("#"+this.id),this.$strip=this.$el.find(".animator-strip"),this.implementationWidth=null,this.imageLoadCount=0,this.animationQueue=(function(){return e.grep(arguments[0],function(e){return""!==e&&null!==e})})(this.animationQueue),this.imagesInit(),this.$strip.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd OAnimationEnd animationend",this.onAnimationEnd)}var n;return t.prototype.onAnimationEnd=function(t){return n(),e(this).removeClass("intro-animation").addClass("loop-animation"),!0},n=function(){var t,n,r;return t=e(".animator-poster").width(),n=e(".animator-frame--intro").width(),r=n-t,e(".animator-frame--intro").css("transform","translateX(-"+r+"px)")},t.prototype.setAnimationLoadClass=function(){var e;if(this.imageLoadCount++,e="loop-animation",2===this.animationQueue.length&&(e="intro-animation"),this.imageLoadCount===this.animationQueue.length)return this.$strip.addClass("loaded "+e)},t.prototype.rescale=function(){var e,t;if(this.implementationWidth||(this.implementationWidth=parseInt(this.$el.data("implementation-width"))),e=this.$el.parent().innerWidth(),e<this.implementationWidth)return t=e/this.implementationWidth,this.$el.css({transform:"scale("+t+") translateY(-"+10*t+"%)","-webkit-transform":"scale("+t+") translateY(-"+10*t+"%)","transform-origin":"bottom left"})},t.prototype.imagesInit=function(){var t,n;return n=this,t=this.$strip,this.$el.data("scale-down")===!0&&(e(window).resize(function(){return n.rescale()}),n.rescale()),t.find("img").each(function(t,r){if(e(r).data("src")&&(e(r).on("load",function(){return n.setAnimationLoadClass()}),e(r).attr("src",e(r).data("src")),e(r).prop("complete")))return n.setAnimationLoadClass()})},t})()})}.call(this),define("modules/clean/react/arbor/elements/arbor_account_menu",["require","exports","tslib","external/react","modules/clean/react/css","modules/clean/react/account_menu/maestro_account_menu"],function(e,t,n,r,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){return r.createElement(s.MaestroAccountMenu,{shouldArrowDecrement:!1,user:this.props.user,viewer:this.props.viewer})},t})(r.Component);t.ArborAccountMenuElement=i,t.ArborAccountMenu=a(i,["/static/css/arbor/elements/account_menu-vflyWQJkM.css"])}),define("modules/clean/react/arbor/elements/arbor_buttons",["require","exports","tslib","external/react","external/classnames","modules/clean/react/css"],function(e,t,n,r,a,s){"use strict";function i(e,t,n,r,s,i){void 0===e&&(e="primary"),void 0===t&&(t=!1),void 0===n&&(n="small"),void 0===r&&(r=null),void 0===s&&(s=null),void 0===i&&(i=null);var o="button--"+n,l="";r&&(l=o+"--"+r);var c="button--"+e,p="";t&&(p=c+"--disabled");var d="";return i&&(d="button--exp-with-transition"),a(["button",c,o,l,s,p,d])}function o(e){e.preventDefault()}function l(){}Object.defineProperty(t,"__esModule",{value:!0});var c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.importance,n=e.disabled,a=e.size,s=e.width,c=e.className,p=e.expCTAHover,d=i(t,n,a,s,c,p);return r.createElement("a",{href:this.props.href,className:d,onClick:n?o:l,"aria-disabled":n},this.props.children)},t})(r.Component);t.ArborButtonAnchorElement=c,t.ArborButtonAnchor=s(c,["/static/css/arbor/elements/button-vfl-provB.css"]);var p=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.importance,n=e.disabled,a=e.size,s=e.width,o=e.className,l=e.onClick,c=e.type,p=i(t,n,a,s,o);return r.createElement("button",{className:p,onClick:l,disabled:n,type:c||"button"},this.props.children)},t})(r.Component);t.ArborButtonElement=p,t.ArborButton=s(p,["/static/css/arbor/elements/button-vfl-provB.css"])}),define("modules/clean/react/arbor/elements/arbor_dropdown_link",["require","exports","tslib","external/react","external/react-dom","external/classnames","modules/clean/react/css","modules/clean/react/arbor/elements/arbor_links"],function(e,t,n,r,a,s,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(function(e){function t(t){var n=e.call(this,t)||this;return n.handlePageClick=function(e){var t=e.target;a.findDOMNode(n).contains(t)||(n.setState({isExpanded:!1}),n.props.onPageClick&&n.props.onPageClick(n.props.id,!0))},n.state={isExpanded:n.props.isExpanded},n}return n.__extends(t,e),t.prototype.componentDidMount=function(){window.addEventListener("click",this.handlePageClick)},t.prototype.componentWillUnmount=function(){window.removeEventListener("click",this.handlePageClick)},t.prototype.componentWillReceiveProps=function(e){e.isExpanded!==this.state.isExpanded&&this.setState({isExpanded:e.isExpanded})},t.prototype.handleDropdownClick=function(e){e.preventDefault(),this.props.onDropdownClick?this.props.onDropdownClick(this.props.id):this.setState({isExpanded:!this.state.isExpanded})},t.prototype.renderDropdownLink=function(e,t){if(e.disabled===!0)return null;var n=null;return n=!e.type?r.createElement("a",{className:"dropdown__content-link",href:e.url},e.title):r.createElement(o.ArborImageLink,{linkItem:e,className:"dropdown__content-link",noSnapEngageForm:this.props.noSnapEngageForm}),r.createElement("li",{key:t,className:"dropdown__content-list-item"},n)},t.prototype.renderDropdownContent=function(e){var t=this;return this.props.children?this.props.children:r.createElement("ul",{className:"dropdown__content-list"},e.map(function(e,n){return t.renderDropdownLink(e,n)}))},t.prototype.render=function(){var e=s({dropdown__container:!0,"dropdown__container--left":"left"===this.props.placement,"dropdown__container--right":"right"===this.props.placement},this.props.className),t=s({dropdown__link:!0,"dropdown__link--open":this.state.isExpanded}),n=s({"dropdown__dropdown-container":!0,"dropdown__dropdown-container--open":this.state.isExpanded}),a=!!this.props.children,i=s({dropdown__dropdown:!0,"dropdown__dropdown--visible":this.state.isExpanded,"dropdown__dropdown--custom-content":a});return r.createElement("div",{className:e},r.createElement("a",{className:t,onClick:this.handleDropdownClick.bind(this),href:"#"},this.props.title),r.createElement("div",{className:n},r.createElement("div",{className:i},this.renderDropdownContent(this.props.dropdownContent))))},t})(r.Component);t.ArborDropdownLinkElement=l,t.ArborDropdownLink=i(l,["/static/css/arbor/elements/dropdown-vflhpAKWZ.css"])}),define("modules/clean/react/arbor/elements/arbor_expandable_nav",["require","exports","tslib","external/react","external/classnames","modules/clean/react/css","modules/clean/react/arbor/elements/arbor_buttons","modules/clean/react/arbor/elements/arbor_links"],function(e,t,n,r,a,s,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.handleHamburgerClick=function(e){e.preventDefault(),this.props.onHamburgerClick()},t.prototype.render=function(){var e=a({"hamburger-helper":!0,"hamburger-helper--expanded":this.props.expanded},this.props.className);return r.createElement("a",{onClick:this.handleHamburgerClick.bind(this),className:e,href:"#"},r.createElement("div",{className:"hamburger-helper__container"},r.createElement("span",null),r.createElement("span",null),r.createElement("span",null),r.createElement("span",null)))},t})(r.Component);t.ArborExpandableNavIconElement=l,t.ArborExpandableNavIcon=s(l,["/static/css/arbor/elements/expandable-nav-icon-vfl5YQCko.css"]);var c=(function(e){function t(){var t=e.call(this)||this;return t.state={childDropdownExpanded:!1},t}return n.__extends(t,e),t.prototype.renderChildLinks=function(e,t){return e.disabled?null:r.createElement("li",{key:t,className:"expandable-child-nav__list-item"},r.createElement("a",{href:e.url,className:"expandable-child-nav__link"},e.title))},t.prototype.handleChildDropdownLink=function(e){e.preventDefault(),this.setState({childDropdownExpanded:!this.state.childDropdownExpanded})},t.prototype.render=function(){var e=this,t=[];t.push(this.props.linkContent.children.map(function(t,n){return e.renderChildLinks(t,n)}));var n=a({"hamburger-menu__link":!0,"expandable-child-nav__parent-link":!0,"expandable-child-nav__parent-link--expanded":this.state.childDropdownExpanded}),s=a({"expandable-child-nav":!0,"expandable-child-nav--expanded":this.state.childDropdownExpanded});return r.createElement("div",null,r.createElement("a",{href:"#",className:n,onClick:this.handleChildDropdownLink.bind(this)},this.props.linkContent.title),r.createElement("ul",{className:s},t))},t})(r.Component);t.ArborExpandableChildNavMenuElement=c,t.ArborExpandableChildNavMenu=s(c,["/static/css/arbor/elements/expandable-child-nav-vfleH6tmG.css"]);var p=(function(e){function s(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(s,e),s.prototype.renderLinks=function(e,n){var a=null;return a=!e.type?e.children?r.createElement(t.ArborExpandableChildNavMenu,{linkContent:e}):r.createElement("a",{href:e.url,className:"hamburger-menu__link"},e.title):r.createElement(o.ArborImageLink,{linkItem:e,className:"hamburger-menu__link"}),r.createElement("li",{className:"hamburger-menu__list-item",key:n},a)},s.prototype.render=function(){var e=this,t=a({"hamburger-menu":!0,"hamburger-menu--expanded":this.props.expanded},this.props.className),n=null;this.props.buttonContent&&(n=r.createElement(i.ArborButtonAnchor,{href:this.props.buttonContent.url,importance:"primary"},this.props.buttonContent.title));var s=[];return this.props.linkContent&&s.push(this.props.linkContent.map(function(t,n){return e.renderLinks(t,n)})),r.createElement("section",{className:t},r.createElement("div",{className:"hamburger-menu__list-container"},r.createElement("ul",{className:"hamburger-menu__list"},s),n))},s})(r.Component);t.ArborExpandableNavMenuElement=p,t.ArborExpandableNavMenu=s(p,["/static/css/arbor/elements/expandable-nav-vfl5qT0yP.css"])}),define("modules/clean/react/arbor/elements/arbor_links",["require","exports","tslib","external/react","external/classnames","modules/clean/react/css","modules/core/i18n","modules/clean/static_urls","modules/clean/snapengage"],function(e,t,n,r,a,s,i,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=i._,p=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.typeImageMap={email:{iconSrc:o.static_url("/static/images/arbor/icons/email-vflLMwpBH.svg"),title:c("Email")},chat:{iconSrc:o.static_url("/static/images/arbor/icons/chat-vfl-fdkjo.svg"),title:c("Chat"),clickHandler:t.snapEngageHandler},phone:{iconSrc:o.static_url("/static/images/arbor/icons/phone-vflsl6BWj.svg"),title:c("Call")}},t}return n.__extends(t,e),t.prototype.snapEngageHandler=function(e){e.preventDefault(),this.props.noSnapEngageForm?l.DropboxSnapEngage.startReactiveChatWithoutForm():l.DropboxSnapEngage.startReactiveChat()},t.prototype.render=function(){var e=this,t=this.props.linkItem;if(t.disabled)return null;var n=this.typeImageMap[t.type],s=a((p={"image-link":!0},p["image-link--"+t.type]=!0,p),this.props.className),i=r.createElement("span",{className:"image-link__icon-container"},r.createElement("img",{src:n.iconSrc,alt:n.title,className:"image-link__icon-image"})),o=r.createElement("span",{className:"image-link__text"},t.title),l=null;if("phone"===t.type)l=r.createElement("span",{className:s},i,o);else{var c=function(r){n.clickHandler&&n.clickHandler.call(e,r),t.clickHandler&&t.clickHandler()};l=r.createElement("a",{href:t.url,className:s,onClick:c},i,o)}return l;var p},t})(r.Component);t.ArborImageLinkElement=p,t.ArborImageLink=s(p,["/static/css/arbor/elements/arbor-image-link-vflM9I3Nd.css"]);var d=(function(e){function s(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(s,e),s.prototype.render=function(){var e=this.props.linksToRender.map(function(e,n){return r.createElement("li",{key:n,className:"image-links__list-item"},r.createElement(t.ArborImageLink,{linkItem:e}))}),n=a({"image-links":!0},this.props.className);return r.createElement("ul",{className:n},e)},s})(r.Component);t.ArborImageLinksElement=d,t.ArborImageLinks=s(d,["/static/css/arbor/elements/arbor-image-links-vflN1iIqY.css"])}),define("modules/clean/react/arbor/elements/arbor_logo",["require","exports","tslib","external/react","external/classnames","modules/clean/static_urls","modules/clean/react/css"],function(e,t,n,r,a,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.renderLogoType=function(e){var t;if(this.props.glyphOnly)t=null;else{var n=a((s={"arbor-logo__logotype":!0},s["arbor-logo__logotype--"+e.slug]=e.slug,s));t=r.createElement("img",{src:e.imageSrc,alt:e.platformName,className:n})}return t;var s},t.prototype.render=function(){var e=void 0!==this.props.glyph?this.props.glyph:s.static_url("/static/images/logo_catalog/glyph_2016-vfl3-TV2d.svg"),t=void 0!==this.props.wordmark?this.props.wordmark:s.static_url("/static/images/logo_catalog/wordmark--dropbox_2016-vfl3TcHpt.svg"),n=void 0!==this.props.wordmark?this.props.wordmark:s.static_url("/static/images/logo_catalog/wordmark--business_2016-vflerWeYa.svg"),i={default:{imageSrc:t,platformName:"Dropbox",url:"/",slug:"dropbox"},business:{imageSrc:n,platformName:"Dropbox Business",url:"/business",slug:"business"},arbor:{imageSrc:e,platformName:"Arbor",url:"/arbor"}},o=this.props,l=o.customPlatform,c=o.presetPlatform,p=i.default;l?p=l:c&&c in i&&(p=i[c]);var d=r.createElement("img",{src:e,alt:"",className:"arbor-logo__glyph"}),u=this.renderLogoType(p),h=a({"arbor-logo--collapse":this.props.collapse},"arbor-logo");return this.props.noLogoLink?r.createElement("span",{className:h},d,u):r.createElement("a",{className:h,href:p.url},d,u)},t})(r.Component);t.ArborLogoElement=o,t.ArborLogo=i(o,["/static/css/arbor/elements/logo-vfl-luAvS.css"])}),define("modules/clean/react/arbor/elements/arbor_supernav",["require","exports","tslib","external/react","external/classnames","modules/clean/react/css","modules/clean/react/arbor/elements/arbor_logo","modules/clean/react/arbor/elements/arbor_buttons","modules/clean/react/arbor/elements/arbor_dropdown_link","modules/clean/react/arbor/elements/arbor_expandable_nav","modules/clean/react/arbor/elements/arbor_links","modules/clean/react/arbor/elements/arbor_account_menu"],function(e,t,n,r,a,s,i,o,l,c,p,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){function t(){var t=e.call(this)||this;return t.handlePageClick=function(e,n){void 0===n&&(n=!1),t.state.activeDropdown===e&&n&&t.setState({activeDropdown:null})},t.handleLinkClick=function(e){return function(n){t.props.onNavLinkClick&&e&&(n.preventDefault(),t.props.onNavLinkClick(e))}},t.state={mobileMenuExpanded:!1,activeDropdown:null,scrolled:!1,overlayActive:!0},t}return n.__extends(t,e),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.handleScroll.bind(this))},t.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.handleScroll.bind(this))},t.prototype.handleScroll=function(e){var t=window.pageYOffset,n=!1;t>=350?n===!1&&(n=!n):n=!1,this.setState({scrolled:n,overlayActive:0===t,activeDropdown:null})},t.prototype.handleDropdownClick=function(e){var t={};t=this.state.activeDropdown===e?{activeDropdown:null}:{activeDropdown:e},this.setState(t)},t.prototype.renderLinkByType=function(e,t){var n;if(e.children){var s=this.state.activeDropdown===t,i=a({supernav__link:!0,"dropdown__container--dark":"dark"===this.props.overlay&&this.state.overlayActive,"dropdown__container--light":"light"===this.props.overlay&&this.state.overlayActive,"dropdown__container--no-cta":!this.props.navCTA});n=r.createElement(l.ArborDropdownLink,{title:e.title,className:i,dropdownContent:e.children,isExpanded:s,id:t,onDropdownClick:this.handleDropdownClick.bind(this),onPageClick:this.handlePageClick,noSnapEngageForm:this.props.noSnapEngageForm})}else n=e.is_button?r.createElement("button",{className:"supernav__link supernav__link--button-as-link",href:e.url,id:e.id,onClick:this.handleLinkClick(e.id),"aria-label":e.label||e.title},e.title):r.createElement("a",{className:"supernav__link",href:e.url,id:e.id,onClick:this.handleLinkClick(e.id)},e.title);var o=a((c={},c["supernav__list-item--no-width-cap"]=this.props.navLinksRight&&1===this.props.navLinksRight.length,c),"supernav__list-item");return r.createElement("li",{key:t,className:o},n);var c},t.prototype.renderNavLinks=function(e){var t=this,n=e.map(function(e,n){return t.renderLinkByType(e,n)}),s=a({"supernav__section-list":!0,"supernav__section-list--no-collapse":this.props.preventMobileMenu||!1});return r.createElement("ul",{className:s},n)},t.prototype.renderNavButton=function(e,t){var n=t?"primary":"secondary";return!(this.props.transitionButtonOnScroll!==!0&&void 0!==this.props.transitionButtonOnScroll||this.props.makeLeftCtaPrimary&&this.props.makeRightCtaPrimary)&&this.state.scrolled&&(n="primary"),r.createElement(o.ArborButtonAnchor,{className:"supernav__cta",href:e.url,importance:n,expCTAHover:this.props.expCTAHover},e.title)},t.prototype.handleHamburgerClick=function(){this.setState({mobileMenuExpanded:!this.state.mobileMenuExpanded})},t.prototype.render=function(){var e=this.props.leftAlignLogo||this.props.contactLinks||this.props.renderAccountMenu||this.props.userNameAndAvatar,t=!e&&(this.props.navLinksLeft||this.props.leftCTA),n=this.props.navLinksRight||this.props.navCTA||this.props.contactLinks||this.props.renderAccountMenu||this.props.userNameAndAvatar,s=t&&n,o=!(t||this.props.navLinksRight||this.props.navCTA||this.props.leftCTA),l=this.props.navCTA&&t||s,u=null,h=null,m=null,g=null,v=null,f=null,_=a({supernav__container:!0,"supernav__container--absolute":this.props.absolute,"supernav__container--expanded":this.state.mobileMenuExpanded,"supernav__container--fixed":this.props.fixed,"supernav__container--fixed--overlay":!!this.props.overlay,"supernav__container--fixed--overlay--active":this.props.overlay&&this.state.overlayActive,"supernav__container--no-shadow":this.props.noShadow,"supernav__container--transparent-background":this.props.transparentBackground},this.props.className),b=a({supernav__dummy:!0,"supernav__dummy--fixed--overlay":!!this.props.overlay}),y=a({supernav:!0,"supernav--x-right":!l&&!o&&!e,"supernav--x-center":o&&!e,"supernav--x-bookend":Boolean(!l&&e),"supernav--x-center-right":Boolean(!l&&!e&&!o),"supernav--fixed--overlay":!!this.props.overlay,"supernav--fixed--overlay--active":this.props.overlay&&this.state.overlayActive,"supernav--fixed--overlay--dark":"dark"===this.props.overlay,"supernav--fixed--overlay--light":"light"===this.props.overlay}),k=a({supernav__section:!0,"supernav__section--center":!e,"supernav__section--x-left":Boolean(e),"supernav__section--1-3":!l&&!e}),w=a({supernav__section:!0,"supernav__section--1-3":!l&&!e}),x=null;if(this.props.logoOverride)x=this.props.logoOverride;else{var E=!(!this.props.logoCollapseOnScroll||!this.state.scrolled);x=r.createElement(i.ArborLogo,{presetPlatform:this.props.logoPlatform,
glyphOnly:this.props.logoGlyphOnly,collapse:E,glyph:this.props.glyph,wordmark:this.props.wordmark,noLogoLink:this.props.noLogoLink})}var C=r.createElement("div",{className:k},x);t&&(this.props.navLinksLeft?u=this.renderNavLinks(this.props.navLinksLeft):this.props.leftCTA&&(u=this.renderNavButton(this.props.leftCTA,this.props.makeLeftCtaPrimary)),h=r.createElement("div",{className:w},u));var A=null,L=null;if(n){if(g=this.props.navCTA?this.renderNavButton(this.props.navCTA,this.props.makeRightCtaPrimary):null,this.props.contactLinks?v=r.createElement(p.ArborImageLinks,{linksToRender:this.props.contactLinks,className:"large-show--flex base-hide"}):this.props.navLinksRight&&(v=this.renderNavLinks(this.props.navLinksRight)),f=this.props.navLinksLeft&&e&&!this.props.contactLinks?this.renderNavLinks(this.props.navLinksLeft):null,e&&!this.props.preventMobileMenu){L=r.createElement(c.ArborExpandableNavIcon,{onHamburgerClick:this.handleHamburgerClick.bind(this),expanded:this.state.mobileMenuExpanded,className:"large-hide"});var S=void 0;S=this.props.contactLinks?this.props.contactLinks:this.props.navLinksRight,A=r.createElement(c.ArborExpandableNavMenu,{expanded:this.state.mobileMenuExpanded,linkContent:S,buttonContent:this.props.navCTA?this.props.navCTA:null,className:"large-hide"})}m=this.props.renderAccountMenu&&this.props.user&&this.props.viewer?r.createElement("div",{className:w},r.createElement(d.ArborAccountMenu,{user:this.props.user,viewer:this.props.viewer})):this.props.userNameAndAvatar?r.createElement("div",{className:w},r.createElement("span",{className:"user-info"},r.createElement("img",{src:this.props.userNameAndAvatar.photoUrl,className:"user-info__avatar",alt:this.props.userNameAndAvatar.displayName}),this.props.userNameAndAvatar.displayName)):r.createElement("div",{className:w},f,v,g,L)}var N=r.createElement("header",{className:_},r.createElement("section",{className:y},h,C,m),A);return(this.props.fixed||this.props.absolute)&&(N=r.createElement("div",null,N,r.createElement("div",{className:b}))),N},t})(r.Component);t.ArborSuperNavElement=u,t.ArborSuperNav=s(u,["/static/css/arbor/elements/supernav-vflaL8IB9.css"])}),define("modules/clean/react/business/components/headers/biz_standard_header",["require","exports","tslib","external/react","modules/clean/react/arbor/elements/arbor_supernav"],function(e,t,n,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){var e=!1,t=!1;return this.props.experiments&&(e=!!this.props.experiments.expSubgrowthBizHpDeferNavUntilScroll,t=!!this.props.experiments.expSubgrowthBizReactiveChatForm),r.createElement(a.ArborSuperNav,{className:this.props.className,fixed:!0,leftAlignLogo:!0,navLinksRight:this.props.content.nav_links,navCTA:this.props.content.cta,noSnapEngageForm:t,logoPlatform:"business",overlay:e?"dark":null,glyph:this.props.glyph,wordmark:this.props.wordmark})},t})(r.Component);t.BizStandardHeader=s}),define("modules/clean/react/business/components/headers/logged_in_header",["require","exports","tslib","external/react","modules/clean/react/arbor/elements/arbor_supernav","modules/clean/viewer"],function(e,t,n,r,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewer=s.get_viewer(),t.user=t.viewer.is_work_user_signed_in?t.viewer.work_user:t.viewer.personal_user,t}return n.__extends(t,e),t.prototype.render=function(){return r.createElement(a.ArborSuperNav,{className:this.props.className,renderAccountMenu:!0,viewer:this.viewer,user:this.user,logoPlatform:this.props.logoPlatform||"business",logoGlyphOnly:!0,glyph:this.props.glyph,wordmark:this.props.wordmark})},t})(r.Component);t.LoggedInHeader=i}),define("modules/clean/react/business/components/headers/standard_header",["require","exports","tslib","external/react","modules/clean/analytics","modules/clean/dbmodal","modules/clean/react/arbor/elements/arbor_supernav"],function(e,t,n,r,a,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onLinkClick=function(e){"sign-in"===e&&(new s.DBModal({element_id:"index-sign-in-modal",focus:"input[name='login_email']"}).show(),a.UserActivityLogger.log("","web_login"))},t}return n.__extends(t,e),t.prototype.render=function(){var e=this.props.hideTryBusinessButton?null:this.props.content.cta;return r.createElement(i.ArborSuperNav,{className:this.props.className,leftCTA:e,fixed:!0,navLinksRight:this.props.content.right_links,transitionButtonOnScroll:this.props.transitionButtonOnScroll,logoCollapseOnScroll:!0,logoPlatform:"default",onNavLinkClick:this.onLinkClick,glyph:this.props.glyph,wordmark:this.props.wordmark})},t})(r.Component);t.StandardHeader=o}),define("modules/clean/snapengage",["require","exports","jquery","modules/core/browser","modules/core/uri","modules/clean/analytics"],function(e,t,n,r,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(){function e(){var e=this;this.chatData={FirstName:"",LastName:"",Email:"",SessionID:"",Country:"",MktoInfo:"",pricing:void 0,user_id:"",proactiveMessage:"",proactiveAgentName:"",visitorFirstTimeVisitor:"",visitorAmountOfPreviousChats:"",visitorAmountOfPagesVisited:"",visitorTimeOnSite:"",visitorTimeOnPage:"",pageLoadTs:"",chatHmac:"",ncct:""},this.chatRequested=!1,this.experiments={},this.loaded=!1,this.handleIframeLoad=function(){s.TeamsWebActionsLogger.log("snapengage_loaded",{total_time:(new Date).valueOf()-e.startTime.valueOf()}),e.loaded=!0,e.sendMessage({message_type:"createSnapEngageScript",chatId:e.supportChatId,allowProactiveChat:e.allowProactiveChat,chatData:e.chatData})},this.checkChatStatus=function(){e.chatRequested||e.sendMessage({message_type:"checkChatStatus",chatData:e.chatData,isSupport:void 0!==e.supportChatId})},this.receiveMessage=function(t){e.validOriginURL(t.origin)&&("Close"===t.data.message_type?(e.hideSnapEngageIframe(),e.chatRequested=!1):"ChatMessageReceived"===t.data.message_type?e.showSnapEngageIframe():"Open"===t.data.message_type?(e.chatRequested=!0,e.showSnapEngageIframe(),e.updateChatStatus(!0)):"OpenProactive"===t.data.message_type?e.maybeShowSnapEngageIframe():"EndProactiveChat"===t.data.message_type?(e.hideSnapEngageIframe(),e.chatRequested=!1,s.TeamsWebActionsLogger.log("proactive_chat_ended")):"StartChat"===t.data.message_type?"proactive"===t.data.type?s.TeamsWebActionsLogger.log("proactive_chat_initiated"):"manual"===t.data.type&&s.TeamsWebActionsLogger.log("reactive_chat_initiated"):"UpdateChatStatus"===t.data.message_type&&e.updateChatStatus(t.data.online))}}return e.prototype.registerExperiments=function(e){for(var t in e)e.hasOwnProperty(t)&&(this.experiments[t]=e[t])},e.prototype.init=function(e){this.snapEngageIframeOrigin=e.snapEngageIframeOrigin,this.chatData={FirstName:e.firstName,LastName:e.lastName,Email:e.email,SessionID:e.sessionId,Country:e.countryCode,MktoInfo:e.marketoInfo,pricing:this.chatData.pricing,user_id:e.userId,proactiveMessage:"",proactiveAgentName:"",visitorFirstTimeVisitor:"",visitorAmountOfPreviousChats:"",visitorAmountOfPagesVisited:"",visitorTimeOnSite:"",visitorTimeOnPage:"",pageLoadTs:e.pageLoadTs,chatHmac:e.chatHmac,ncct:this.getExperimentVariant("subgrowth_biz_no_cc_trials")||"OFF"},this.allowProactiveChat=e.allowProactiveChat,this.supportChatId=e.supportChatId,this.registerPricingsAsDisplayed(e.pricings),this.startTime=new Date;var t=this.getIFrameURL(),n=this.createIframe(t);window.addEventListener("message",this.receiveMessage,!1),n.addEventListener("load",this.handleIframeLoad),setInterval(this.checkChatStatus,13e4)},e.prototype.startSupportChat=function(e){this.chatRequested=!0,s.TeamsWebActionsLogger.log("support_chat_initiated"),this.showSnapEngageIframe(),this.sendMessage({message_type:"startSupportChat",chatData:this.chatData,support_widget_id:e})},e.prototype.startReactiveChatWithoutForm=function(){this.chatRequested||(this.chatRequested=!0,s.TeamsWebActionsLogger.log("chat_initiated"),this.showSnapEngageIframe(),this.sendMessage({message_type:"StartChatWithoutForm",chatData:this.chatData}))},e.prototype.startReactiveChat=function(){this.chatRequested||(this.chatRequested=!0,s.TeamsWebActionsLogger.log("chat_initiated"),this.showSnapEngageIframe(),this.sendMessage({message_type:"StartChat",chatData:this.chatData}))},e.prototype.shownPricing=function(e){return this.registerPricingsAsDisplayed(e)},e.prototype.registerPricingsAsDisplayed=function(e){var t=this;if(void 0!==e&&0!==e.length){var n=e.map(function(e){var n=e.product+" "+e.country+"v"+e.price_version+" "+e.price,r=t.getNumberOfLicenses(e.licenses);return 1===r?n+=" (1 license)":r>1&&(n=n+" ("+r+" licenses_count)"),n});this.chatData.pricing=n.join(),this.loaded&&this.sendMessage({message_type:"checkChatStatus",chatData:this.chatData,isSupport:void 0!==this.supportChatId})}},e.prototype.getIFrameURL=function(){var e=r.get_uri(),t=a.parse(this.snapEngageIframeOrigin);return e.setScheme(t.getScheme()),e.setAuthority(t.getAuthority()),e.toString()},e.prototype.createIframe=function(e){var t=document.createElement("iframe");return t.src=e,t.setAttribute("sandbox","allow-scripts allow-same-origin allow-popups"),t.setAttribute("class","snapengage-iframe"),t.setAttribute("id","snapengage-iframe"),t.setAttribute("allowTransparency","true"),document.body.insertBefore(t,document.body.childNodes[0]),t},e.prototype.sendMessage=function(e){var t=this.getSnapEngageIframe();t&&t.contentWindow.postMessage(e,this.snapEngageIframeOrigin)},e.prototype.maybeShowSnapEngageIframe=function(){(localStorage&&!localStorage.getItem("uj-housewarming-v1-state")||!localStorage)&&(this.chatRequested=!0,this.showSnapEngageIframe(),s.TeamsWebActionsLogger.log("proactive_chat_opened"))},e.prototype.validOriginURL=function(e){return e===this.snapEngageIframeOrigin},e.prototype.getSnapEngageIframe=function(){return document.getElementById("snapengage-iframe")},e.prototype.updateChatStatus=function(e){n("[data-snap-engage-visibility]").hide(),e?n('[data-snap-engage-visibility="online"]').show():n('[data-snap-engage-visibility="offline"]').show()},e.prototype.showSnapEngageIframe=function(){n(this.getSnapEngageIframe()).show()},e.prototype.hideSnapEngageIframe=function(){n(this.getSnapEngageIframe()).hide()},e.prototype.getExperimentVariant=function(e){return this.experiments.hasOwnProperty(e)?this.experiments[e]:null},e.prototype.getNumberOfLicenses=function(e){var t=this.getExperimentVariant("subgrowth_biz_payment_no_min_license");return"MIN2"===t?2:"MIN3"===t?3:"MIN3B"===t?3:e},e})();t.DropboxSnapEngage=new i});
//# sourceMappingURL=pkg-legacy-av.min.js-vflyfMT2K.map